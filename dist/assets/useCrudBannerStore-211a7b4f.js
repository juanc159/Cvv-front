import{aA as u,ab as s}from"./index-4eb24df8.js";const c=u("useCrudBannerStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,path:null},bannerData:{},banners:[],totalData:0,totalPage:0,currentPage:1,lastPage:0}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,path:null}},async fetchAll(e){var l;this.loading.table=!0;const{data:a,response:n,error:r,isFetching:t}=await s("/banner-list").post(e);this.loading.table=t.value,(l=n.value)!=null&&l.ok&&a.value&&(this.banners=a.value.banners,this.totalData=a.value.totalData,this.totalPage=a.value.totalPage,this.currentPage=a.value.currentPage,this.lastPage=a.value.lastPage)},async fetchDataForm(e,a="create"){var i;this.loading.form=!0;const n=e?`/banner-dataForm/${a}/${e}`:`/banner-dataForm/${a}`,{data:r,response:t,error:l,isFetching:o}=await s(n).get();this.loading.form=o.value,(i=t.value)!=null&&i.ok&&r.value&&(this.form=r.value.form)},async fetchSave(){var l;const e=new FormData;for(const o in this.form)e.append(o,this.form[o]);this.loading.form=!0;const{data:a,response:n,error:r,isFetching:t}=await s("/banner-create").post(e);return this.loading.form=t.value,(l=n.value)!=null&&l.ok&&a.value&&(this.form=a.value.data),a.value},async fetchDelete(e){this.loading.table=!0;const{isFetching:a}=await s("/banner-delete/"+e).delete();this.loading.table=a.value},async changeState(e){var t;this.loading.table=!0;const{data:a,response:n,isFetching:r}=await s("/banner-changeState").post(e);return this.loading.table=r.value,(t=n.value)!=null&&t.ok&&a.value&&(this.form=a.value.data),a.value}}});export{c as u};
