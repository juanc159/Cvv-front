import{a as V}from"./formatters-D7qh_Elz.js";import{_ as x}from"./ModalChangePassword.vue_vue_type_script_setup_true_lang-CxzIm1ng.js";import{ag as I,ah as P,ai as w,aj as A,ak as S,b as t,d as M,U as B,R as D,Z as z,r as N,o as v,g as C,f as a,C as r,D as d,k as s,a8 as _,G as R,al as y}from"./index-DIyPu2n-.js";import{V as b}from"./VAvatar-CM2QcUUV.js";import{V as U}from"./VMenu-BpruL3NV.js";import{V as $,a as f,b as p,d as j}from"./VList-CMTaG0P-.js";import{V as h}from"./VBadge-BbTykkPn.js";import{V as E}from"./VDivider-CG8nLZlY.js";const F=I({start:Boolean,end:Boolean,...P(),...w()},"VListItemAction"),G=A()({name:"VListItemAction",props:F(),setup(l,i){let{slots:u}=i;return S(()=>t(l.tag,{class:["v-list-item-action",{"v-list-item-action--start":l.start,"v-list-item-action--end":l.end},l.class],style:l.style},u)),{}}}),X=M({__name:"UserProfile",setup(l){const i=B(),{company:u,user:e}=D(i),k=()=>{y.push({name:"Login"}),i.logout()};z(()=>{var n,m,c,o;return e.value?String((m=(n=e.value)==null?void 0:n.name)==null?void 0:m.split(" ")[0])+" "+String((o=(c=e.value)==null?void 0:c.surname)==null?void 0:o.split(" ")[0])||"Administrador":""});const L=()=>{u.value={},i.getMenuData,y.push({name:"Company-List"})},g=N(),T=()=>{g.value.openDialog(e.value.id)};return(n,m)=>{const c=x;return v(),C(h,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:a(()=>[t(b,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:s(V))(s(e).full_name))+" ",1),t(U,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[t($,null,{default:a(()=>[t(f,null,{prepend:a(()=>[t(G,{start:""},{default:a(()=>[t(h,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[t(b,{color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:s(V))(s(e).full_name)),1)]),_:1})]),_:1})]),_:1})]),default:a(()=>[t(p,{class:"font-weight-semibold"},{default:a(()=>{var o;return[r(d((o=s(e))==null?void 0:o.full_name),1)]}),_:1}),t(j,null,{default:a(()=>{var o;return[r(d((o=s(e))==null?void 0:o.rol_name),1)]}),_:1})]),_:1}),s(u).id&&!s(e).company_id?(v(),C(f,{key:0,onClick:L},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-building",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Empresa")]),_:1})]),_:1})):R("",!0),t(f,{onClick:T},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-lock",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Constraseña")]),_:1})]),_:1}),t(E,{class:"my-2"}),t(f,{onClick:m[0]||(m[0]=o=>k())},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cerrar Sesión")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{ref_key:"refModalChangePassword",ref:g},null,512)]),_:1})}}});export{X as _};
