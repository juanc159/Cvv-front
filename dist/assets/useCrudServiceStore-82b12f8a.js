import{aD as u,af as r}from"./index-d0670919.js";const f=u("useCrudServiceStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,image:null,title:null,html:null},serviceData:{},services:[],totalData:0,totalPage:0,currentPage:1,lastPage:0}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,image:null,title:null,html:null}},async fetchAll(a){var s;this.loading.table=!0;const{data:e,response:t,error:i,isFetching:l}=await r("/service-list").post(a);this.loading.table=!1,(s=t.value)!=null&&s.ok&&e.value&&(this.services=e.value.services,this.totalData=e.value.totalData,this.totalPage=e.value.totalPage,this.currentPage=e.value.currentPage,this.lastPage=e.value.lastPage)},async fetchDataForm(a,e="create"){var n;this.loading.form=!0;const t=a?`/service-dataForm/${e}/${a}`:`/service-dataForm/${e}`,{data:i,response:l,error:s,isFetching:o}=await r(t).get();this.loading.form=!1,(n=l.value)!=null&&n.ok&&i.value&&(this.form=i.value.form)},async fetchSave(){var s;const a=new FormData;for(const o in this.form)a.append(o,this.form[o]);this.loading.form=!0;const{data:e,response:t,error:i,isFetching:l}=await r("/service-create").post(a);return this.loading.form=!1,(s=t.value)!=null&&s.ok&&e.value&&(this.form=e.value.data),e.value},async fetchDelete(a){this.loading.table=!0,await r("/service-delete/"+a).delete(),this.loading.table=!1},async changeState(a){var l;this.loading.table=!0;const{data:e,response:t,isFetching:i}=await r("/service-changeState").post(a);return this.loading.table=!1,(l=t.value)!=null&&l.ok&&e.value&&(this.form=e.value.data),e.value}}});export{f as u};
