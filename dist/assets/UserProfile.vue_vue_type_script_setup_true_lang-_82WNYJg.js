import{a as g}from"./formatters-BXxQPIVS.js";import{_ as T}from"./ModalChangePassword.vue_vue_type_script_setup_true_lang-CrGvoW3l.js";import{ae as x,af as I,aq as w,b as t,aP as A,aQ as S,d as M,V as B,U as D,Y as z,r as N,h as v,o as C,f as a,D as r,E as d,l as s,y as R,a7 as _,aR as y}from"./index-93_j09My.js";import{V as b}from"./VAvatar-C0IYOk3R.js";import{V as E}from"./VMenu-CyrLEex3.js";import{V as U,a as f,b as p,d as $}from"./VList-DAa29NIs.js";import{V as h}from"./VBadge-omWpzpQ3.js";import{V as q}from"./VDivider-DppjqGkO.js";const F=I({start:Boolean,end:Boolean,...S(),...A()},"VListItemAction"),Q=x()({name:"VListItemAction",props:F(),setup(l,i){let{slots:u}=i;return w(()=>t(l.tag,{class:["v-list-item-action",{"v-list-item-action--start":l.start,"v-list-item-action--end":l.end},l.class],style:l.style},u)),{}}}),X=M({__name:"UserProfile",setup(l){const i=B(),{company:u,user:e}=D(i),k=()=>{y.push({name:"Login"}),i.logout()};z(()=>{var n,m,c,o;return e.value?String((m=(n=e.value)==null?void 0:n.name)==null?void 0:m.split(" ")[0])+" "+String((o=(c=e.value)==null?void 0:c.surname)==null?void 0:o.split(" ")[0])||"Administrador":""});const L=()=>{u.value={},i.getMenuData,y.push({name:"Company-List"})},V=N(),P=()=>{V.value.openDialog(e.value.id)};return(n,m)=>{const c=T;return C(),v(h,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:a(()=>[t(b,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:s(g))(s(e).full_name))+" ",1),t(E,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[t(U,null,{default:a(()=>[t(f,null,{prepend:a(()=>[t(Q,{start:""},{default:a(()=>[t(h,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[t(b,{color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:s(g))(s(e).full_name)),1)]),_:1})]),_:1})]),_:1})]),default:a(()=>[t(p,{class:"font-weight-semibold"},{default:a(()=>{var o;return[r(d((o=s(e))==null?void 0:o.full_name),1)]}),_:1}),t($,null,{default:a(()=>{var o;return[r(d((o=s(e))==null?void 0:o.rol_name),1)]}),_:1})]),_:1}),s(u).id&&!s(e).company_id?(C(),v(f,{key:0,onClick:L},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-building",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Empresa")]),_:1})]),_:1})):R("",!0),t(f,{onClick:P},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-lock",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Constraseña")]),_:1})]),_:1}),t(q,{class:"my-2"}),t(f,{onClick:m[0]||(m[0]=o=>k())},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cerrar Sesión")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{ref_key:"refModalChangePassword",ref:V},null,512)]),_:1})}}});export{X as _};
