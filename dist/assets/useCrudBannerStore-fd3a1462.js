import{aD as i,af as n}from"./index-637629ed.js";const f=i("useCrudBannerStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,path:null},bannerData:{},banners:[],totalData:0,totalPage:0,currentPage:1,lastPage:0}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,path:null}},async fetchAll(e){var l;this.loading.table=!0;const{data:a,response:t,error:r}=await n("/banner-list").post(e);this.loading.table=!1,(l=t.value)!=null&&l.ok&&a.value&&(this.banners=a.value.banners,this.totalData=a.value.totalData,this.totalPage=a.value.totalPage,this.currentPage=a.value.currentPage,this.lastPage=a.value.lastPage)},async fetchDataForm(e,a="create"){var o;this.loading.form=!0;const t=e?`/banner-dataForm/${a}/${e}`:`/banner-dataForm/${a}`,{data:r,response:l,error:s}=await n(t).get();this.loading.form=!1,(o=l.value)!=null&&o.ok&&r.value&&(this.form=r.value.form)},async fetchSave(){var l;const e=new FormData;for(const s in this.form)e.append(s,this.form[s]);this.loading.form=!0;const{data:a,response:t,error:r}=await n("/banner-create").post(e);return this.loading.form=!1,(l=t.value)!=null&&l.ok&&a.value&&(this.form=a.value.data),a.value},async fetchDelete(e){this.loading.table=!0,await n("/banner-delete/"+e).delete(),this.loading.table=!1},async changeState(e){var r;this.loading.table=!0;const{data:a,response:t}=await n("/banner-changeState").post(e);return this.loading.table=!1,(r=t.value)!=null&&r.ok&&a.value&&(this.form=a.value.data),a.value}}});export{f as u};
