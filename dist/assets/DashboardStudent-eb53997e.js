import{a as X}from"./formatters-1588bd0d.js";import{_ as H}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-b4c0aa9f.js";import{d as M,r as y,aF as F,o as r,c as C,b as a,f as t,e as o,B as _,C as p,k as n,g as k,E as q,ad as Y,a6 as $,ae as h,af as j,L as K,m as R,F as U,p as ee,N as E,V as Q,R as ae,Q as te,ab as oe}from"./index-4f81429d.js";import{V as Z,a as J}from"./VToolbar-ac660ae4.js";import{V as B,b as A,a as se}from"./VCard-832cd683.js";import{V as x}from"./VCardText-29420ad3.js";import{V as O}from"./VDialog-0fd7b1bb.js";import{V as ne,r as le}from"./VForm-43b0bb0b.js";import{_ as ie}from"./AppTextField.vue_vue_type_script_setup_true_lang-4fc0a184.js";import{V as z}from"./VRow-6a50fe05.js";import{V as S}from"./VCol-a7c5bc1b.js";import{d as re,o as de}from"./helpers-3edea678.js";import{V as ue}from"./VContainer-011b00cc.js";import{V as W}from"./VImg-6edd56e6.js";import{V as L}from"./VDivider-ad38f8d0.js";import{V as G}from"./VAvatar-509cb4e6.js";import"./dialog-transition-8b568a2e.js";import"./VField-83b24b5b.js";import"./VTextField-59dde88f.js";/* empty css              */const me=M({__name:"ModalContactanos",emits:["execute"],setup(P,{expose:g,emit:N}){y({});const l=F({titleDialog:"Contactanos",isDialogVisible:!1,isLoading:!1}),m=()=>{l.isDialogVisible=!l.isDialogVisible},s=async()=>{m()};return y(),g({openDialog:s}),(u,d)=>{const v=H;return r(),C("div",null,[a(O,{modelValue:n(l).isDialogVisible,"onUpdate:modelValue":d[1]||(d[1]=b=>n(l).isDialogVisible=b),persistent:"","max-width":"40rem",transition:"dialog-transition"},{default:t(()=>[a(v,{onClick:d[0]||(d[0]=b=>m())}),o("div",null,[a(Z,{color:"primary"},{default:t(()=>[a(J,null,{default:t(()=>[_(p(n(l).titleDialog),1)]),_:1})]),_:1})]),a(B,null,{default:t(()=>[a(x,null,{default:t(()=>d[2]||(d[2]=[o("h2",null,"📞 Contáctanos para Información Administrativa",-1),o("p",null,[_("Si necesitas información sobre "),o("strong",null,"administración"),_(" (pagos, deudas, solvencias, mensualidades y otros trámites), no dudes en ponerte en contacto con nosotros.")],-1),o("p",null,[o("strong",null,"Correo electrónico:"),_(),o("a",{href:"mailto:colegiovirgendelvalle.adm@gmail.com"},"colegiovirgendelvalle.adm@gmail.com")],-1),o("p",null,"¡Estamos aquí para ayudarte!",-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),ce=M({__name:"ModalChangePassword",emits:["execute"],setup(P,{expose:g,emit:N}){const l=y({}),m=N,s=F({titleDialog:"Cambiar contraseña",isDialogVisible:!1,isLoading:!1,first_time:!1,statuses:[],form:{id:null,new_password:""}}),u=()=>{s.form={id:null,new_password:""},l.value={},D.value=!1},d=()=>{s.isDialogVisible=!s.isDialogVisible},v=async(i,e=!1)=>{u(),d(),s.form.id=i,s.first_time=e},b=async()=>{var e,w,V;const i=await((e=T.value)==null?void 0:e.validate());if(i!=null&&i.valid){s.isLoading=!0;const{response:f,data:c}=await j("changePassword").post({id:s.form.id,new_password:s.form.new_password});s.isLoading=!1,(w=f.value)!=null&&w.ok&&((V=c.value)==null?void 0:V.code)==200&&(d(),m("execute",!0)),c.value.code==422&&(l.value=c.value.errors??{})}},T=y();g({openDialog:v});const D=y(!1);return(i,e)=>{const w=H,V=ie;return r(),C("div",null,[a(O,{modelValue:n(s).isDialogVisible,"onUpdate:modelValue":e[6]||(e[6]=f=>n(s).isDialogVisible=f),persistent:"","max-width":"40rem",transition:"dialog-transition"},{default:t(()=>[n(s).first_time?q("",!0):(r(),k(w,{key:0,onClick:e[0]||(e[0]=f=>d())})),o("div",null,[a(Z,{color:"primary"},{default:t(()=>[a(J,null,{default:t(()=>[_(p(n(s).titleDialog),1)]),_:1})]),_:1})]),a(B,null,{default:t(()=>[a(x,null,{default:t(()=>[a(ne,{ref_key:"refForm",ref:T,onSubmit:Y(()=>{},["prevent"])},{default:t(()=>[a(z,null,{default:t(()=>[n(s).first_time?(r(),k(S,{key:0,cols:"12"},{default:t(()=>e[7]||(e[7]=[o("h4",null,"¡Bienvenido! Como es tu primera vez ingresando al sistema, es necesario que cambies tu contraseña. Por favor, elige una nueva contraseña que sea segura y fácil de recordar.",-1)])),_:1})):q("",!0),a(S,{cols:"12"},{default:t(()=>[a(V,{clearable:"",modelValue:n(s).form.new_password,"onUpdate:modelValue":e[1]||(e[1]=f=>n(s).form.new_password=f),label:"Contraseña",placeholder:"············",type:n(D)?"text":"password","append-inner-icon":n(D)?"tabler-eye-off":"tabler-eye","onClick:appendInner":e[2]||(e[2]=f=>D.value=!n(D)),rules:["requiredValidator"in i?i.requiredValidator:n(le)],"error-messages":n(l).new_password,onKeypress:e[3]||(e[3]=f=>n(l).new_password="")},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1}),a(S,{cols:"12"},{default:t(()=>e[8]||(e[8]=[o("span",null," Requisitos de la Contraseña: Mínimo de 8 caracteres. Debe incluir al menos: Una letra mayúscula (A-Z) Una letra minúscula (a-z) Un número (0-9) Asegúrate de que la nueva contraseña no sea igual a la contraseña actual. ",-1)])),_:1})]),_:1})]),_:1},512)]),_:1}),a(x,{class:"d-flex justify-end gap-3 flex-wrap"},{default:t(()=>[n(s).first_time?q("",!0):(r(),k(h,{key:0,loading:n(s).isLoading,color:"secondary",variant:"tonal",onClick:e[4]||(e[4]=f=>d())},{default:t(()=>[a($,{start:"",icon:"tabler-x"}),e[9]||(e[9]=_(" Cancelar "))]),_:1},8,["loading"])),a(h,{disabled:n(s).isLoading,loading:n(s).isLoading,onClick:e[5]||(e[5]=f=>b()),color:"primary"},{default:t(()=>[a($,{start:"",icon:"tabler-device-floppy"}),e[10]||(e[10]=_(" Cambiar contraseña "))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),pe={class:"our-team"},fe={class:"text-center"},_e={class:"text-h3"},ge={h5:"",class:"text-h5"},ve={class:"text-body-1"},be={class:"text-body-1"},ye={class:"text-body-1"},Ve={key:0},xe={class:"d-flex align-center py-1"},Ce=["onClick"],we=M({__name:"PlanningGradeSectionTeachers",props:{school_id:{type:[String,Number],required:!0},grade_id:{type:[String,Number],required:!0},section_id:{type:[String,Number],required:!0}},setup(P){ee();const g=y(),N=y(),l=y(!1);return K(async()=>{l.value=!0;const m=await j(`pw-dataGradeSection/${P.school_id}/${P.grade_id}/${P.section_id}`).get();l.value=!1,m.data&&(g.value=m.data.value.teachers,N.value=m.data.value.title)}),(m,s)=>(r(),k(ue,{id:"team"},{default:t(()=>[o("div",pe,[a(z,null,{default:t(()=>[(r(!0),C(U,null,R(n(g),(u,d)=>(r(),k(S,{key:d,cols:"12",lg:"3",sm:"6"},{default:t(()=>[a(B,{flat:"","min-width":"262",class:"position-relative overflow-visible team-card mb-12"},{default:t(()=>[o("div",{style:E({maxHeight:"185px",minHeight:"185px",borderRadius:"90px 20px 0 0",backgroundColor:`${u.backgroundColor}`})},[a(W,{src:u.photo,height:"240",class:"team-image"},null,8,["src"])],4),a(x,{class:"text-center pa-4",style:E({border:`1px solid ${u.backgroundColor}`,borderBlockStart:"none",borderRadius:"0 0 6px 6px",boxSizing:"border-box"})},{default:t(()=>[o("div",fe,[o("span",_e,p(u.subject_name),1),s[0]||(s[0]=o("br",null,null,-1)),o("span",ge,p(u.fullName),1),s[1]||(s[1]=o("br",null,null,-1)),o("span",ve,p(u.jobPosition),1),s[2]||(s[2]=o("br",null,null,-1)),o("span",be,p(u.email),1),s[3]||(s[3]=o("br",null,null,-1)),o("span",ye,p(u.phone),1)]),u.files.length>0?(r(),C("div",Ve,[a(L),s[4]||(s[4]=o("span",{class:"text-h4 mb-6"},"Planificación",-1)),(r(!0),C(U,null,R(u.files,(v,b)=>(r(),C("div",{key:b,class:"d-flex flex-column"},[o("div",xe,[a($,{icon:"tabler-download",color:"primary"}),o("a",{href:"#",onClick:T=>("descargarArchivo"in m?m.descargarArchivo:n(re))(v.path,v.name)},p(v.name),9,Ce)])]))),128))])):q("",!0)]),_:2},1032,["style"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}))}});const ke=Q(we,[["__scopeId","data-v-e1fc4243"]]),De={class:"title-text"},$e={class:"membership-pricing d-flex flex-column align-center h-100 justify-center"},Pe={class:"me-auto pe-4"},he={class:"d-flex align-center mb-6"},Se={class:"d-flex align-center mb-0"},Ne={class:"ms-auto ps-4"},Te={class:"d-flex align-center mb-6"},qe={class:"d-flex align-center mb-0"},Be={key:0,class:"mt-3"},Me={key:1},Ae=M({__name:"DashboardStudent",setup(P){const g=ae(),{company:N,user:l}=te(g),m=oe(()=>{var e;const i=((e=g.user)==null?void 0:e.full_name)||"";return i||"S/N"}),s=F({btnPdf:!1}),u=async i=>{var V;s.btnPdf=!0;const{data:e,response:w}=await j(`pw-pdfNote/${i.id}`).get();s.btnPdf=!1,(V=w.value)!=null&&V.ok&&e.value&&de(e.value.pdf)},d=y(),v=()=>{d.value.openDialog()},b=y(),T=()=>{b.value.openDialog(l.value.id,l.value.first_time)};K(()=>{l.value.first_time&&b.value.openDialog(l.value.id,l.value.first_time)});const D=()=>{l.value.first_time=0};return(i,e)=>{const w=ke,V=ce,f=me;return r(),C("div",null,[a(B,{class:"mb-6"},{default:t(()=>[a(A,{class:"d-flex justify-center align-center title-container"},{default:t(()=>[o("h3",De,p(n(l).full_name),1)]),_:1}),a(z,null,{default:t(()=>[a(S,{cols:"12",sm:"4",md:"12",lg:"5",class:"member-pricing-bg text-center"},{default:t(()=>{var c;return[o("div",$e,[(c=n(g).user)!=null&&c.photo?(r(),k(G,{key:0,color:"primary",variant:"tonal",size:"250"},{default:t(()=>{var I;return[a(W,{src:(I=n(g).user)==null?void 0:I.photo},null,8,["src"])]}),_:1})):(r(),k(G,{key:1,color:"primary",variant:"tonal",size:"50"},{default:t(()=>[_(p(("avatarText"in i?i.avatarText:n(X))(n(m))),1)]),_:1}))])]}),_:1}),a(S,{cols:"12",sm:"8",md:"12",lg:"7"},{default:t(()=>[a(se,null,{default:t(()=>[a(A,null,{default:t(()=>e[4]||(e[4]=[_("¡Bienvenido! 🎉")])),_:1})]),_:1}),a(x,null,{default:t(()=>e[5]||(e[5]=[_(" ¡Nos alegra mucho verte aquí! Tu viaje en nuestra plataforma comienza ahora y estamos emocionados de acompañarte en cada paso. ")])),_:1}),a(x,null,{default:t(()=>[e[6]||(e[6]=_(" Explora tu perfil y descubre todas las herramientas y recursos que hemos preparado para ti. Si tienes alguna pregunta o necesitas asistencia, no dudes en ")),o("a",{href:"#",onClick:e[0]||(e[0]=c=>v()),class:"text-decoration-none"},"contactarnos"),e[7]||(e[7]=_(". ¡Estamos aquí para ayudarte a alcanzar tus metas! "))]),_:1}),a(x,null,{default:t(()=>[a(L)]),_:1}),a(x,{class:"d-flex justify-center"},{default:t(()=>[o("div",Pe,[o("p",he,[a(h,{loading:n(s).btnPdf,onClick:e[1]||(e[1]=c=>u(n(l))),disabled:!n(l).pdf,variant:"outlined"},{default:t(()=>[a($,{icon:"tabler-download"}),e[8]||(e[8]=o("span",null,"Descargar Notas",-1))]),_:1},8,["loading","disabled"])]),o("p",Se,[a(h,{disabled:"",variant:"outlined"},{default:t(()=>[a($,{icon:"tabler-download"}),e[9]||(e[9]=o("span",null,"Descargar Boletin",-1))]),_:1})])]),i.$vuetify.display.smAndUp?(r(),k(L,{key:0,vertical:"",inset:""})):q("",!0),o("div",Ne,[o("p",Te,[a(h,{variant:"outlined",onClick:e[2]||(e[2]=c=>v())},{default:t(()=>[a($,{icon:"tabler-address-book"}),e[10]||(e[10]=o("span",null,"Contactanos",-1))]),_:1})]),o("p",qe,[a(h,{variant:"outlined",onClick:e[3]||(e[3]=c=>T())},{default:t(()=>[a($,{icon:"tabler-lock-open"}),e[11]||(e[11]=o("span",null,"Cambiar contraseña",-1))]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1}),a(B,{class:"mb-6",outlined:""},{default:t(()=>[a(A,{class:"d-flex justify-center"},{default:t(()=>[o("h2",null,"Planificaciones "+p(n(l).type_education_name)+" "+p(n(l).grade_name)+" "+p(n(l).section_name),1)]),_:1}),a(x,null,{default:t(()=>{var c;return[((c=n(l).teacherPlannings)==null?void 0:c.length)>0?(r(),C("div",Be,[a(w,{school_id:n(l).company_id,grade_id:n(l).grade_id,section_id:n(l).section_id},null,8,["school_id","grade_id","section_id"])])):(r(),C("div",Me,e[12]||(e[12]=[o("p",null,"No hay planificaciones disponibles para este estudiante.",-1)])))]}),_:1})]),_:1}),a(V,{ref_key:"refModalChangePassword",ref:b,onExecute:D},null,512),a(f,{ref_key:"refModalContactanos",ref:d},null,512)])}}});const ta=Q(Ae,[["__scopeId","data-v-d8d7da81"]]);export{ta as default};
