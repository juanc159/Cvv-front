import{d as g,r as d,o as A,c as R,e as t,b as a,k as e,V as h,f as o,N as b,D as L,ac as T,ad as q,C as N,a8 as x,E as B,af as F,al as P,a as S,q as $}from"./index-DAr2upiy.js";import{V as j,r as w,p as z,c as I}from"./VForm-Bs3PART1.js";import{_ as E}from"./AppTextField.vue_vue_type_script_setup_true_lang-CEAewYoR.js";import{a as M,b as U}from"./auth-v1-top-shape-gPxasD3d.js";import{V}from"./VNodeRenderer-DEtN_KWm.js";import{a as D,b as H,V as Z}from"./VCard-CGmGEMqU.js";import{V as y}from"./VCardText-CvT14MiE.js";import{V as G,a as p}from"./VRow-DUD9vsF6.js";import"./helpers-upj93DMB.js";import"./constants-2GBt7OCP.js";import"./VInput-DUzkoKUG.js";import"./VImg-B_nB46wv.js";import"./VOverlay-BIhjNxwp.js";import"./forwardRefs-C-GTDzx5.js";import"./VTooltip-BdkVEjDn.js";import"./VTextField-Bf4NTB6r.js";/* empty css                   */import"./VAvatar-DsBa6V7B.js";/* empty css              */const J={class:"auth-wrapper d-flex align-center justify-center pa-4"},K={class:"position-relative my-sm-16"},O={class:"app-logo"},Q={class:"app-logo-title"},W=t("h4",{class:"text-h4 mb-1"}," Restablecer contraseña 🔒 ",-1),X=t("p",{class:"mb-0"}," Su nueva contraseña debe ser diferente de las utilizadas anteriormente ",-1),Y=t("span",null,[t("p",null,"Requisitos de la Contraseña:"),t("ul",{class:"ml-4"},[t("li",null,"Longitud mínima de 8 caracteres."),t("li",null,"Al menos una letra mayúscula (A-Z)."),t("li",null,"Al menos una letra minúscula (a-z)."),t("li",null,"Al menos un carácter especial de este conjunto: !@#$%&*()."),t("li",null,"Al menos un número (0-9).")])],-1),ee=t("span",null,"Volver al inicio de sesión",-1),ye=g({__name:"ResetPassword",setup(ae){const n=d({token:"",email:"",password:"",password_confirmation:""}),u=d(!1),m=d(!1),_=d(),c=d(!1),v=$(),C=[s=>w(s),s=>I(n.value.password_confirmation,s)],k=async()=>{var l,i;const s=await((l=_.value)==null?void 0:l.validate());if(s!=null&&s.valid){n.value.email=v.query.email,n.value.token=v.params.token,c.value=!0;const{data:f,response:r}=await F("/password/reset").post(n.value);c.value=!1,(i=r.value)!=null&&i.ok&&f.value&&P.push({name:"Login"})}};return(s,l)=>{const i=S("RouterLink"),f=E;return A(),R("div",J,[t("div",K,[a(e(V),{nodes:("h"in s?s.h:e(h))("div",{innerHTML:e(M)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),a(e(V),{nodes:("h"in s?s.h:e(h))("div",{innerHTML:e(U)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),a(Z,{class:B(["auth-card",s.$vuetify.display.smAndUp?"pa-6":"pa-2"]),"max-width":"460"},{default:o(()=>[a(D,{class:"justify-center"},{default:o(()=>[a(H,null,{default:o(()=>[a(i,{to:"/"},{default:o(()=>[t("div",O,[a(e(V),{nodes:e(b).app.logo},null,8,["nodes"]),t("h1",Q,L(e(b).app.title),1)])]),_:1})]),_:1})]),_:1}),a(y,null,{default:o(()=>[W,X]),_:1}),a(y,null,{default:o(()=>[a(j,{ref_key:"refForm",ref:_,onSubmit:T(()=>{},["prevent"])},{default:o(()=>[a(G,null,{default:o(()=>[a(p,{cols:"12"},{default:o(()=>[a(f,{modelValue:e(n).password,"onUpdate:modelValue":l[0]||(l[0]=r=>e(n).password=r),autofocus:"",label:"Nueva contraseña",placeholder:"············",type:e(u)?"text":"password","append-inner-icon":e(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":l[1]||(l[1]=r=>u.value=!e(u)),rules:["requiredValidator"in s?s.requiredValidator:e(w),"passwordValidator"in s?s.passwordValidator:e(z)]},null,8,["modelValue","type","append-inner-icon","rules"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(f,{modelValue:e(n).password_confirmation,"onUpdate:modelValue":l[2]||(l[2]=r=>e(n).password_confirmation=r),label:"Confirmar contraseña",placeholder:"············",type:e(m)?"text":"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":l[3]||(l[3]=r=>m.value=!e(m)),rules:C},null,8,["modelValue","type","append-inner-icon"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[Y]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(q,{block:"",type:"submit",onClick:k,loading:e(c),disabled:e(c)},{default:o(()=>[N(" Establecer nueva contraseña ")]),_:1},8,["loading","disabled"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(i,{class:"d-flex align-center justify-center",to:{name:"Login"}},{default:o(()=>[a(x,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),ee]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["class"])])])}}});export{ye as default};
