import{_ as yt}from"./ModalQuestion.vue_vue_type_script_setup_true_lang-SWe80tQQ.js";import{d as mt,r as C,v as gt,t as ht,aU as bt,w as _e,N as ft,c as M,o as u,b as s,c1 as _t,q as xe,f as l,e as V,l as Vt,E as x,h as g,D as z,y as m,I as Ve,a6 as A,a8 as O,F as $e,n as wt,k as Ft,Y as Se,Z as kt,$ as Pt}from"./index-BjO4aHmb.js";import{u as Ce}from"./useAxios-ho0Kgbw0.js";import{V as St,a as Ct}from"./VDataTable-CvRP1D2V.js";import{V as Ut}from"./VSkeletonLoader-CsIVgTer.js";import{V as Ae}from"./VCardText-C-uXbslX.js";import{V as Ie,a as Be}from"./VRow-B3OxSNxL.js";import{V as xt}from"./VTextField-DDV0vgq8.js";import{V as $t}from"./VMenu-BAqx21pF.js";import{V as At,a as Ue}from"./VList-EH5Q84wI.js";import{V as Z}from"./VTooltip-B0e54w3N.js";import{V as ue}from"./VChip-DzlKtSZQ.js";import{_ as It}from"./AppDateTimePicker.vue_vue_type_style_index_0_lang-D30LL_4c.js";import{_ as Bt}from"./AppSelectRemote-NbIhZmeH.js";import{_ as qt}from"./AppSelect.vue_vue_type_script_setup_true_lang-BC5XkvOm.js";import{_ as Dt}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-DTpYiiFY.js";import{_ as Tt}from"./AppTextField.vue_vue_type_script_setup_true_lang-B39xe8cM.js";import{V as Nt}from"./VDialog-fQSA88d4.js";import{V as Et,a as Gt}from"./VToolbar-BLl-6srQ.js";import{V as jt}from"./VCard-Vu9nndUs.js";import{_ as Lt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Mt={key:0,class:"d-flex align-center"},zt={class:"text-center"},Ot=V("span",null,"Ver",-1),Rt=V("span",null,"Editar",-1),Qt=V("span",null,"Eliminar",-1),Wt={class:"text-sm text-disabled"},Jt=V("span",null,"No se encontraron resultados",-1),Aa=mt({__name:"TableFullNew",props:{options:{},"onUpdate:selected":{type:Function},disableUrlUpdate:{type:Boolean}},emits:["view","edit","deleteSuccess","dataFetched","update:selected","update:loading"],setup(H,{expose:we,emit:Fe}){var ve,me,oe,ge,he,be,se,ne,ie,re,ce,n,o,r,b,h,k,f,y,I,S,t,B,v,D,fe,qe,De,Te,Ne,Ee,Ge,je,Le,Me,ze,Oe,Re,Qe,We,Je,Ye,Ze,He,Xe,Ke,et,tt,at,lt,ot;const a=H,d=Fe,T=C(!1),G=C([]),w=C([]),ee=gt(),P=ht(),Y=C(!1),j=C(null),e=bt({url:a.options.url,headers:a.options.headers||[],paramsGlobal:a.options.paramsGlobal||{},showSelect:a.options.showSelect||!1,multiSort:a.options.multiSort||!0,sortBy:a.options.sortBy||[],selected:a.options.selected||[],tableData:a.options.tableData||[],pagination:{show:((ve=a.options.pagination)==null?void 0:ve.show)??!0,rowsPerPage:((me=a.options.pagination)==null?void 0:me.rowsPerPage)||10,currentPage:((oe=a.options.pagination)==null?void 0:oe.currentPage)||1,totalPages:((ge=a.options.pagination)==null?void 0:ge.totalPages)||0,totalItems:((he=a.options.pagination)==null?void 0:he.totalItems)||0},actions:{view:{show:((se=(be=a.options.actions)==null?void 0:be.view)==null?void 0:se.show)??!0,icon:((ie=(ne=a.options.actions)==null?void 0:ne.view)==null?void 0:ie.icon)||"tabler-eye",tooltip:((ce=(re=a.options.actions)==null?void 0:re.view)==null?void 0:ce.tooltip)||"Ver"},edit:{show:((o=(n=a.options.actions)==null?void 0:n.edit)==null?void 0:o.show)??!0,icon:((b=(r=a.options.actions)==null?void 0:r.edit)==null?void 0:b.icon)||"tabler-pencil",tooltip:((k=(h=a.options.actions)==null?void 0:h.edit)==null?void 0:k.tooltip)||"Editar"},delete:{show:((y=(f=a.options.actions)==null?void 0:f.delete)==null?void 0:y.show)??!0,url:((S=(I=a.options.actions)==null?void 0:I.delete)==null?void 0:S.url)||null,icon:((B=(t=a.options.actions)==null?void 0:t.delete)==null?void 0:B.icon)||"tabler-trash",tooltip:((D=(v=a.options.actions)==null?void 0:v.delete)==null?void 0:D.tooltip)||"Eliminar"},changeStatus:{show:((qe=(fe=a.options.actions)==null?void 0:fe.changeStatus)==null?void 0:qe.show)??!0,url:((Te=(De=a.options.actions)==null?void 0:De.changeStatus)==null?void 0:Te.url)||null,dbField:((Ee=(Ne=a.options.actions)==null?void 0:Ne.changeStatus)==null?void 0:Ee.dbField)||"is_active",btnActive:{text:((Le=(je=(Ge=a.options.actions)==null?void 0:Ge.changeStatus)==null?void 0:je.btnActive)==null?void 0:Le.text)||"Activo",value:((Oe=(ze=(Me=a.options.actions)==null?void 0:Me.changeStatus)==null?void 0:ze.btnActive)==null?void 0:Oe.value)??1,newFunction:(We=(Qe=(Re=a.options.actions)==null?void 0:Re.changeStatus)==null?void 0:Qe.btnActive)==null?void 0:We.newFunction},btnInactive:{text:((Ze=(Ye=(Je=a.options.actions)==null?void 0:Je.changeStatus)==null?void 0:Ye.btnInactive)==null?void 0:Ze.text)||"Inactivo",value:((Ke=(Xe=(He=a.options.actions)==null?void 0:He.changeStatus)==null?void 0:Xe.btnInactive)==null?void 0:Ke.value)??0,newFunction:(at=(tt=(et=a.options.actions)==null?void 0:et.changeStatus)==null?void 0:tt.btnInactive)==null?void 0:at.newFunction}},style:((lt=a.options.actions)==null?void 0:lt.style)||"dropdown"}}),R=C(e.selected);_e(R,i=>{d("update:selected",i)}),_e(T,i=>{d("update:loading",i)});let Q=null;const F=async(i=null,p=!1,_=!1,c=null)=>{!e.url||Y.value&&!_||(Q&&clearTimeout(Q),Q=setTimeout(async()=>{Y.value=!0,T.value=!0,i!==null&&(e.pagination.currentPage=i),c!==null&&(j.value=c);const U=a.disableUrlUpdate&&(j.value||c)?c||j.value:P.query,L=e.sortBy.length?e.sortBy.map(J=>`${J.order==="desc"?"-":""}${J.key}`).join(","):"",K={page:e.pagination.currentPage.toString(),perPage:e.pagination.rowsPerPage.toString(),...L&&{sort:L},...e.paramsGlobal};if(a.disableUrlUpdate||Object.assign(K,e.params),a.disableUrlUpdate&&(j.value||c))for(const J in U)J.startsWith("filter[")&&(K[J]=U[J]);!a.disableUrlUpdate&&!p&&ee.push({query:K});const{data:q,response:ye}=await Ce(`${e.url}`).get({params:K});T.value=!1,Y.value=!1,ye.status==200&&q&&q.code===200&&(G.value=q.tableData||[],e.pagination.totalPages=q.lastPage||0,e.pagination.totalItems=q.totalData||0,q.currentPage&&!p&&(e.pagination.currentPage=q.currentPage),e.pagination.rowsPerPage=q.totalPage||e.pagination.rowsPerPage,e.tableData=q.tableData||[],X.value=e.pagination.rowsPerPage,d("dataFetched",q)),Q=null},100))},pe=async(i,p,_)=>{const{data:c,response:U}=await Ce(`${e.actions.changeStatus.url}`).post({id:i.id,value:_,field:p});U.status==200&&c&&(i[p]=_,i.is_active=_)},W=(i,p,_,c)=>{i&&typeof i=="function"?i(p):i===void 0&&pe(p,_,c)},ae=i=>{w.value=i,e.sortBy=i,F(null,!1)},de=async i=>{var U,L;if(!((U=e.actions.delete)!=null&&U.show)||!((L=e.actions.delete)!=null&&L.url))return;T.value=!0;const p=`${e.actions.delete.url}/${i}`,{data:_,response:c}=await Ce(p).delete();T.value=!1,_&&(_.code===200||!_.code)&&(d("deleteSuccess",i),await F())},te=i=>{le.value.componentData.title="¿Está seguro que desea eliminar el registro?",le.value.openModal(i)},le=C();_e(()=>P.query,(i,p)=>{if(Y.value||a.disableUrlUpdate)return;JSON.stringify({...i,page:void 0,perPage:void 0,sort:void 0})!==JSON.stringify({...p,page:void 0,perPage:void 0,sort:void 0})&&(e.params={...i},delete e.params.page,delete e.params.perPage,delete e.params.sort,F(null,!0))},{deep:!0}),ft(()=>{if(!a.disableUrlUpdate){if(P.query.page&&(e.pagination.currentPage=parseInt(P.query.page)||1),P.query.perPage&&(e.pagination.rowsPerPage=parseInt(P.query.perPage)||10,X.value=e.pagination.rowsPerPage),P.query.sort){const i=P.query.sort.split(",");e.sortBy=i.map(p=>({key:p.startsWith("-")?p.slice(1):p,order:p.startsWith("-")?"desc":"asc"})),w.value=e.sortBy}e.params={...P.query},delete e.params.page,delete e.params.perPage,delete e.params.sort}F(null,!0)});const X=C(((ot=e.pagination)==null?void 0:ot.rowsPerPage)||10),Pe=((i,p)=>{let _=null;return(...c)=>{_&&clearTimeout(_),_=setTimeout(()=>i(...c),p)}})(i=>{e.pagination.rowsPerPage=Number(X.value)||10,F(i)},500);return we({openDeleteModal:te,fetchTableData:F,options:e}),(i,p)=>{const _=yt;return u(),M("div",null,[s(St,{headers:e.headers,items:G.value,loading:T.value,"show-select":e.showSelect,modelValue:R.value,"onUpdate:modelValue":p[4]||(p[4]=c=>R.value=c),"multi-sort":e.multiSort,"items-per-page":e.pagination.rowsPerPage,page:e.pagination.currentPage,"onUpdate:sortBy":ae},_t({"item.is_active":l(({item:c})=>[e.actions.changeStatus.show?(u(),M("div",Mt,[c[e.actions.changeStatus.dbField]==e.actions.changeStatus.btnActive.value?(u(),g(ue,{key:0,color:"success",onClick:U=>W(e.actions.changeStatus.btnActive.newFunction,c,e.actions.changeStatus.dbField,e.actions.changeStatus.btnInactive.value)},{default:l(()=>[s(A,{start:"",size:"16",icon:"tabler-bell"}),z(" "+x(e.actions.changeStatus.btnActive.text)+" ",1),s(Z,{location:"top",transition:"scale-transition",activator:"parent",text:"Estado"})]),_:2},1032,["onClick"])):(u(),g(ue,{key:1,color:"error",onClick:U=>W(e.actions.changeStatus.btnInactive.newFunction,c,e.actions.changeStatus.dbField,e.actions.changeStatus.btnActive.value)},{default:l(()=>[s(A,{start:"",size:"16",icon:"tabler-alert-circle"}),z(" "+x(e.actions.changeStatus.btnInactive.text)+" ",1),s(Z,{location:"top",transition:"scale-transition",activator:"parent",text:"Estado"})]),_:2},1032,["onClick"]))])):m("",!0)]),"item.actions":l(({item:c,index:U})=>{var L,K,q,ye,J,st,nt,it,rt,ct;return[V("div",zt,[((L=e.actions)==null?void 0:L.style)==="dropdown"?(u(),g(O,{key:0,color:"primary","append-icon":"tabler-chevron-down"},{default:l(()=>[z(" Acciones "),s($t,{activator:"parent"},{default:l(()=>[s(At,null,{default:l(()=>{var $,N,ut,pt,dt,vt;return[(N=($=e.actions)==null?void 0:$.view)!=null&&N.show?(u(),g(Ue,{key:0,onClick:E=>d("view",c)},{prepend:l(()=>{var E;return[s(A,{icon:(E=e.actions)==null?void 0:E.view.icon},null,8,["icon"])]}),default:l(()=>[Ot]),_:2},1032,["onClick"])):m("",!0),(pt=(ut=e.actions)==null?void 0:ut.edit)!=null&&pt.show?(u(),g(Ue,{key:1,onClick:E=>d("edit",c)},{prepend:l(()=>{var E;return[s(A,{icon:(E=e.actions)==null?void 0:E.edit.icon},null,8,["icon"])]}),default:l(()=>[Rt]),_:2},1032,["onClick"])):m("",!0),(vt=(dt=e.actions)==null?void 0:dt.delete)!=null&&vt.show?(u(),g(Ue,{key:2,onClick:E=>te(c.id)},{prepend:l(()=>{var E;return[s(A,{icon:(E=e.actions)==null?void 0:E.delete.icon},null,8,["icon"])]}),default:l(()=>[Qt]),_:2},1032,["onClick"])):m("",!0),Ve(i.$slots,"item.actions2",{item:c,index:U})]}),_:2},1024)]),_:2},1024)]),_:2},1024)):(u(),M($e,{key:1},[(q=(K=e.actions)==null?void 0:K.view)!=null&&q.show?(u(),g(O,{key:0,icon:"",color:((ye=e.actions)==null?void 0:ye.view.color)||"warning",class:"mx-1",onClick:$=>d("view",c)},{default:l(()=>{var $;return[s(A,{icon:($=e.actions)==null?void 0:$.view.icon},null,8,["icon"]),s(Z,{activator:"parent",location:"top"},{default:l(()=>{var N;return[z(x((N=e.actions)==null?void 0:N.view.tooltip),1)]}),_:1})]}),_:2},1032,["color","onClick"])):m("",!0),(st=(J=e.actions)==null?void 0:J.edit)!=null&&st.show?(u(),g(O,{key:1,icon:"",color:((nt=e.actions)==null?void 0:nt.edit.color)||"primary",class:"mx-1",onClick:$=>d("edit",c)},{default:l(()=>{var $;return[s(A,{icon:($=e.actions)==null?void 0:$.edit.icon},null,8,["icon"]),s(Z,{activator:"parent",location:"top"},{default:l(()=>{var N;return[z(x((N=e.actions)==null?void 0:N.edit.tooltip),1)]}),_:1})]}),_:2},1032,["color","onClick"])):m("",!0),(rt=(it=e.actions)==null?void 0:it.delete)!=null&&rt.show?(u(),g(O,{key:2,icon:"",color:((ct=e.actions)==null?void 0:ct.delete.color)||"error",class:"mx-1",onClick:$=>te(c.id)},{default:l(()=>{var $;return[s(A,{icon:($=e.actions)==null?void 0:$.delete.icon},null,8,["icon"]),s(Z,{activator:"parent",location:"top"},{default:l(()=>{var N;return[z(x((N=e.actions)==null?void 0:N.delete.tooltip),1)]}),_:1})]}),_:2},1032,["color","onClick"])):m("",!0),Ve(i.$slots,"item.actions2",{item:c,index:U})],64))])]}),bottom:l(()=>[s(Ae,{class:"pt-2"},{default:l(()=>[s(Ie,null,{default:l(()=>[s(Be,{lg:"2",cols:"3"},{default:l(()=>[s(xt,{modelValue:X.value,"onUpdate:modelValue":[p[0]||(p[0]=c=>X.value=c),p[1]||(p[1]=c=>Vt(Pe)(1))],label:"Filas por página",type:"number",min:"1","hide-details":"",variant:"underlined"},null,8,["modelValue"])]),_:1}),s(Be,{class:"d-flex align-center justify-space-between"},{default:l(()=>[V("span",Wt," Mostrando "+x((e.pagination.currentPage-1)*e.pagination.rowsPerPage+1)+" a "+x(Math.min(e.pagination.currentPage*e.pagination.rowsPerPage,e.pagination.totalItems))+" de "+x(e.pagination.totalItems)+" registros ",1),s(Ct,{modelValue:e.pagination.currentPage,"onUpdate:modelValue":[p[2]||(p[2]=c=>e.pagination.currentPage=c),p[3]||(p[3]=c=>F(c,!1))],length:e.pagination.totalPages,"total-visible":5,size:"small"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),loading:l(()=>[s(Ut,{type:"table-row@10, divider"})]),"no-data":l(()=>[Jt]),_:2},[xe(i.$slots,(c,U)=>({name:U,fn:l(L=>[Ve(i.$slots,U,wt(Ft(L||{})))])}))]),1032,["headers","items","loading","show-select","modelValue","multi-sort","items-per-page","page"]),s(_,{ref_key:"refModalQuestion",ref:le,onSuccess:de},null,512)])}}}),Yt=H=>(kt("data-v-70d8e0df"),H=H(),Pt(),H),Zt={class:"filter-dialog-container"},Ht={key:0,class:"extra-filters-container"},Xt={class:"filter-bar"},Kt={class:"search-container"},ea={class:"action-buttons mt-6"},ta={key:1,class:"active-filters-container"},aa={class:"active-filters-label"},la=Yt(()=>V("span",null,"Filtros activos:",-1)),oa={class:"chips-container"},sa={class:"font-weight-bold"},na={class:"clear-filters"},ia={key:1,class:"text-grey text-caption align-self-center"},ra={key:1,class:"text-grey text-caption align-self-center"},ca=mt({__name:"FilterDialogNew",props:{optionsFilter:{},tableLoading:{type:Boolean},disableUrlUpdate:{type:Boolean}},emits:["forceSearch"],setup(H,{expose:we,emit:Fe}){var ne,ie,re,ce;const a=H,d=bt({dialog:{title:((ne=a.optionsFilter.dialog)==null?void 0:ne.title)??"Filtros Generales",cols:((ie=a.optionsFilter.dialog)==null?void 0:ie.cols)??"12",width:((re=a.optionsFilter.dialog)==null?void 0:re.width)??"800",inputs:(ce=a.optionsFilter.dialog)==null?void 0:ce.inputs.map(n=>({...n,value:n.value}))},extraFilters:{...a.optionsFilter.extraFilters}}),T=Fe,G=C(""),w=C({sort:"","filter[inputGeneral]":"",page:1,perPage:15}),ee=C(!1),P=C(!1),Y=gt(),j=ht(),e=C(!1),R=C(!1),Q=C(null),F=C({}),pe=async()=>{var n;w.value={sort:j.query.sort?j.query.sort:"","filter[inputGeneral]":"",page:1,perPage:15},w.value["filter[inputGeneral]"]=G.value,(n=d.dialog.inputs)==null||n.forEach(o=>{var r;if(o.value!==null&&o.value!==void 0&&o.value!=="")if(["select","selectChipCount"].includes(o.type)){const b=Array.isArray(o.value)?o.value.map(h=>h.value):[(r=o.value)==null?void 0:r.value];w.value[`filter[${o.name}]`]=b.join(",")}else if(o.type==="selectApi"){const b=Array.isArray(o.value)?o.value.map(h=>`${h.value}|${h.title}`):[o.value?`${o.value.value}|${o.value.title}`:""];w.value[`filter[${o.name}]`]=b.filter(h=>h!=="").join(",")}else w.value[`filter[${o.name}]`]=o.value});for(const o in d.extraFilters){const r=d.extraFilters[o];r.value!==null&&r.value!==void 0&&r.value!==""&&(w.value[`filter[${o}]`]=r.value)}F.value={...w.value},a.disableUrlUpdate||await Y.push({query:{...w.value}})},W=Se(()=>P.value||a.tableLoading),ae=async()=>{P.value=!0,await pe(),P.value=!1,T("forceSearch",a.disableUrlUpdate?F.value:void 0)},de=async()=>{await ae()},te=()=>{Q.value&&clearTimeout(Q.value),Q.value=setTimeout(()=>{pe().then(()=>{a.disableUrlUpdate&&T("forceSearch",F.value)}),Q.value=null},500)},le=()=>{R.value||te()};_e(()=>d.extraFilters,()=>{R.value||te()},{deep:!0});const X=()=>{ee.value=!0},ke=()=>{ee.value=!1},Pe=()=>{var n;G.value="",(n=d.dialog.inputs)==null||n.forEach(o=>{o.value=["selectChipCount","select","selectApi"].includes(o.type)?[]:""});for(const o in d.extraFilters)d.extraFilters[o].value=["selectChipCount","select","selectApi"].includes(d.extraFilters[o].type)?[]:"";w.value={sort:"","filter[inputGeneral]":"",page:1,perPage:15},F.value={...w.value},a.disableUrlUpdate||Y.push({query:{...w.value}}),T("forceSearch",w.value)},ve=()=>{var o;if(a.disableUrlUpdate)return;const n=j.query;G.value=n["filter[inputGeneral]"]?n["filter[inputGeneral]"]:"",(o=d.dialog.inputs)==null||o.forEach(r=>{var h;const b=n[`filter[${r.name}]`];if(b)if(["select","selectChipCount"].includes(r.type)){const k=b.split(",");r.value=((h=r.options)==null?void 0:h.filter(f=>k.includes(String(f.value))))||[]}else r.type==="selectApi"?(r.value=[],b.split(",").forEach(f=>{const[y,I]=f.split("|"),S=!isNaN(Number(y)),t=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(y),B=S?Number(y):y;r.value.push({value:B,title:I||y})})):r.value=b;else r.value=["select","selectChipCount","selectApi"].includes(r.type)?[]:""});for(const r in d.extraFilters){const b=n[`filter[${r}]`];d.extraFilters[r].value=b||""}w.value={...w.value,...n}};ft(()=>{ve(),e.value=!!a.optionsFilter.extraFilters&&Object.keys(a.optionsFilter.extraFilters).length>0,R.value=!!a.optionsFilter.showBtnSearch});const me=()=>{G.value=""},oe=Se(()=>{var r,b;const n={},o=a.disableUrlUpdate?F.value:j.query;for(const h in o)if(h.startsWith("filter[")){const k=h.replace("filter[","").replace("]",""),f=o[h],y=f!=null?String(f):"";if(y.trim()!==""){const I=(b=(r=a.optionsFilter.dialog)==null?void 0:r.inputs)==null?void 0:b.find(S=>S.name===k);if(I)if(I.type==="selectApi"){const S=y.split(",").map(t=>t.split("|")[1]||t).join(", ");n[k]=S}else if(["select","selectChipCount"].includes(I.type)){const S=y.split(",").map(t=>{var B,v;return((v=(B=I.options)==null?void 0:B.find(D=>D.value==t))==null?void 0:v.title)||t}).join(", ");n[k]=S}else if(I.type==="booleanActive"){const S=se.find(t=>String(t.value)===y);n[k]=S?S.title:y}else n[k]=y;else n[k]=y}}return n}),ge=n=>{var r,b,h,k;if(a.disableUrlUpdate){const f={...F.value};delete f[`filter[${n}]`],F.value=f}else{const f={...j.query};delete f[`filter[${n}]`],Y.push({query:f})}n==="inputGeneral"&&(G.value="");const o=(b=(r=d==null?void 0:d.dialog)==null?void 0:r.inputs)==null?void 0:b.find(f=>f.name===n);o&&(o.value=["selectChipCount","select","selectApi"].includes(o.type)?[]:""),(h=a.optionsFilter)!=null&&h.extraFilters&&((k=a.optionsFilter.extraFilters[n])==null?void 0:k.value)!==void 0&&(a.optionsFilter.extraFilters[n].value=""),a.disableUrlUpdate&&T("forceSearch",F.value)},he=n=>{if(a.optionsFilter.filterLabels&&a.optionsFilter.filterLabels[n])return a.optionsFilter.filterLabels[n];const o=a.optionsFilter.dialog.inputs.find(r=>r.name===n);return o?o.label:n.replace("."," - ")},be=Se(()=>a.optionsFilter.extraFilters&&Object.keys(a.optionsFilter.extraFilters).length>0),se=[{value:null,title:"Todos"},{value:1,title:"Activo"},{value:0,title:"Inactivo"}];return we({forceSearch:ae,getCurrentFilters:()=>F.value}),(n,o)=>{var y,I,S;const r=Tt,b=Dt,h=qt,k=Bt,f=It;return u(),M("div",Zt,[be.value?(u(),M("div",Ht,[s(Ie,{class:"g-3"},{default:l(()=>[Ve(n.$slots,"default",{extraFilters:a.optionsFilter.extraFilters},void 0,!0)]),_:3})])):m("",!0),V("div",Xt,[V("div",Kt,[s(r,{modelValue:G.value,"onUpdate:modelValue":[o[0]||(o[0]=t=>G.value=t),le],label:"Buscar",id:"generalSearchInput",solo:"",clearable:"","onClick:clear":me,"hide-details":"","prepend-inner-icon":"tabler-search",placeholder:"Buscar...",class:"search-field"},null,8,["modelValue"])]),V("div",ea,[((I=(y=d.dialog)==null?void 0:y.inputs)==null?void 0:I.length)>0?(u(),g(O,{key:0,icon:"",onClick:X,color:"primary",loading:P.value,disabled:P.value,class:"filter-btn"},{default:l(()=>[s(A,{icon:"tabler-filter-cog"}),s(Z,{location:"top",transition:"scale-transition",activator:"parent",text:"Filtros Avanzados"})]),_:1},8,["loading","disabled"])):m("",!0),R.value?m("",!0):(u(),g(O,{key:1,onClick:ae,color:"primary",icon:"",loading:W.value,disabled:W.value},{default:l(()=>[s(A,{icon:"tabler-refresh"}),s(Z,{location:"top",transition:"scale-transition",activator:"parent",text:"Refrescar"})]),_:1},8,["loading","disabled"])),R.value?(u(),g(O,{key:2,icon:"",onClick:de,color:"primary",loading:W.value,disabled:W.value,class:"search-btn"},{default:l(()=>[s(A,{icon:"tabler-filter-search"}),s(Z,{location:"top",transition:"scale-transition",activator:"parent",text:"Buscar"})]),_:1},8,["loading","disabled"])):m("",!0)])]),Object.keys(oe.value).length>0?(u(),M("div",ta,[V("div",aa,[s(A,{icon:"tabler-filter",size:"small",class:"mr-2"}),la]),V("div",oa,[(u(!0),M($e,null,xe(oe.value,(t,B)=>(u(),g(ue,{key:B,closable:"","onClick:close":v=>ge(B),color:n.$vuetify.theme.current.dark?"warning":"primary",size:"small",class:"filter-chip"},{default:l(()=>[V("span",sa,x(he(B))+":  ",1),V("span",null,x(t),1)]),_:2},1032,["onClick:close","color"]))),128))]),V("div",na,[s(O,{size:"small",onClick:Pe,color:n.$vuetify.theme.current.dark?"warning":"primary",loading:P.value,variant:"text","prepend-icon":"tabler-x"},{default:l(()=>[z(" Limpiar todos ")]),_:1},8,["color","loading"])])])):m("",!0),s(Nt,{modelValue:ee.value,"onUpdate:modelValue":o[1]||(o[1]=t=>ee.value=t),"max-width":(S=d.dialog)==null?void 0:S.width,persistent:""},{default:l(()=>[s(b,{onClick:ke}),V("div",null,[s(Et,{color:"primary"},{default:l(()=>[s(Gt,null,{default:l(()=>[z(x(d.dialog.title),1)]),_:1})]),_:1})]),s(jt,null,{default:l(()=>[s(Ae,null,{default:l(()=>[s(Ie,null,{default:l(()=>[(u(!0),M($e,null,xe(d.dialog.inputs,(t,B)=>(u(),g(Be,{key:B,cols:a.optionsFilter.dialog.cols},{default:l(()=>[t.type==="text"?(u(),g(r,{key:0,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,label:t.label,placeholder:t.placeholder,type:t.type,clearable:""},null,8,["modelValue","onUpdate:modelValue","label","placeholder","type"])):m("",!0),t.type==="number"?(u(),g(r,{key:1,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,label:t.label,placeholder:t.placeholder,type:t.type,clearable:""},null,8,["modelValue","onUpdate:modelValue","label","placeholder","type"])):m("",!0),t.type==="select"?(u(),g(h,{key:2,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,items:t.options,"return-object":"",label:t.label,multiple:t.multiple,chips:t.chips,"closable-chips":t.chips,clearable:""},null,8,["modelValue","onUpdate:modelValue","items","label","multiple","chips","closable-chips"])):m("",!0),t.type==="booleanActive"?(u(),g(h,{key:3,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,items:se,label:t.label,chips:t.chips,"closable-chips":t.chips,clearable:""},null,8,["modelValue","onUpdate:modelValue","label","chips","closable-chips"])):m("",!0),t.type==="selectApi"?(u(),g(k,{key:4,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,url:t.url,arrayInfo:t.arrayInfo,"item-title":t.itemTitle,"item-value":t.itemValue,multiple:t.multiple,"search-param":t.searchParam,label:t.label},{selection:l(({item:v,index:D})=>[D<5?(u(),g(ue,{key:0,closable:"","onClick:close":fe=>t.value.splice(D,1)},{default:l(()=>[V("span",null,x(v.title),1)]),_:2},1032,["onClick:close"])):m("",!0),D===5?(u(),M("span",ia," (+"+x(t.value.length-5)+" otros) ",1)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","url","arrayInfo","item-title","item-value","multiple","search-param","label"])):m("",!0),t.type==="selectChipCount"?(u(),g(h,{key:5,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,items:t.options,label:t.label,multiple:t.multiple,"return-object":"",clearable:""},{selection:l(({item:v,index:D})=>[D<5?(u(),g(ue,{key:0,closable:"","onClick:close":fe=>t.value.splice(D,1)},{default:l(()=>[V("span",null,x(v.title),1)]),_:2},1032,["onClick:close"])):m("",!0),D===5?(u(),M("span",ra," (+"+x(t.value.length-5)+" otros) ",1)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue","items","label","multiple"])):m("",!0),t.type==="date"?(u(),g(f,{key:6,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,label:t.label,config:{dateFormat:"Y-m-d"},clearable:""},null,8,["modelValue","onUpdate:modelValue","label"])):m("",!0),t.type==="dateRange"?(u(),g(f,{key:7,modelValue:t.value,"onUpdate:modelValue":v=>t.value=v,label:t.label,config:{mode:"range"},clearable:""},null,8,["modelValue","onUpdate:modelValue","label"])):m("",!0)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1}),s(Ae,{class:"d-flex justify-end gap-3 flex-wrap"},{default:l(()=>[s(O,{onClick:ke,color:"secondary",variant:"tonal"},{prepend:l(()=>[s(A,{icon:"tabler-x"})]),default:l(()=>[z(" Cerrar ")]),_:1}),s(O,{onClick:de,color:"primary",loading:W.value,disabled:W.value},{prepend:l(()=>[s(A,{icon:"tabler-filter-search"})]),default:l(()=>[z(" Buscar ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue","max-width"])])}}}),Ia=Lt(ca,[["__scopeId","data-v-70d8e0df"]]);export{Ia as _,Aa as a};
