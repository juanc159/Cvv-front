import{_ as b,a as y}from"./TableFullNew.vue_vue_type_script_setup_true_lang-4208258d.js";import{aD as S,af as h,d as C,R as F,r as n,o as g,c as x,b as t,f as a,e as k,k as N,ae as V,a6 as T,ac as v}from"./index-b0a545ba.js";import{S as B}from"./sweetalert2.esm.all-562d67d8.js";import{b as D,V as R}from"./VCard-cdef38b1.js";import{V as P}from"./VCardText-0a42020e.js";import"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-fe857a7e.js";import"./VDialog-700a8667.js";import"./dialog-transition-b2da0c73.js";import"./VField-519a5b1f.js";import"./AppSelect.vue_vue_type_script_setup_true_lang-d411851f.js";import"./VSelect-5df3832e.js";import"./VTextField-d0ddbc81.js";import"./VImg-ebcb317a.js";import"./VList-b116c9ae.js";import"./ssrBoot-5bd626fd.js";import"./VAvatar-7fd99590.js";import"./VDivider-14f927f3.js";import"./VMenu-0b8336a1.js";import"./VChip-195a4914.js";import"./VRow-e9822336.js";/* empty css              */import"./VCol-46eb5194.js";import"./AppTextField.vue_vue_type_script_setup_true_lang-3fad4267.js";import"./_commonjsHelpers-725317a4.js";import"./helpers-3edea678.js";import"./index-9c720871.js";import"./VContainer-e74772a5.js";import"./VPagination-a1ac2202.js";import"./VDataTable-418c9175.js";const A=S("useCrudStudentStore",{state:()=>({loading:{table:!1}}),getters:{},actions:{async fetchResetPassword(s){this.loading.table=!0;const{data:i,response:r,isFetching:l}=await h("/student-resetPassword/"+s).get();return this.loading.table=!1,i.value}}}),pt=C({__name:"Index",setup(s){const i=A(),r=F(),l=async e=>{B.fire({title:"¿Seguro desea reiniciar la contraseña al registro?",showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Si",denyButtonText:"No"}).then(async o=>{o.isConfirmed?await i.fetchResetPassword(e):o.isDenied})},c=n(),m={url:"/student-list",headers:[{title:"Acciones",key:"actions"},{title:"Cédula ",key:"identity_document"},{title:"Nombre",key:"full_name"}],params:{company_id:r.company.id}},p=n({}),u=(e={})=>{p.value=e,c.value.changeFilter(e)},d=n({inputGeneral:{relationsGeneral:{all:["identity_document","full_name"]}}});return(e,o)=>{const f=b,_=y;return g(),x("div",null,[t(R,null,{default:a(()=>[t(D,{class:"d-flex justify-space-between"},{default:a(()=>o[0]||(o[0]=[k("div",null," Listado de estudiantes ",-1)])),_:1}),t(P,null,{default:a(()=>[t(f,{ref:"filterDialogNewRef",optionsFilter:N(d),onSendFilter:u},null,8,["optionsFilter"])]),_:1}),t(_,{ref_key:"tableFullNew",ref:c,optionsTable:m},{"item.actions":a(({item:w})=>[t(V,{icon:"",size:"x-small",variant:"text",onClick:$=>l(w.id)},{default:a(()=>[t(T,{size:"22",icon:"tabler-lock-open"}),t(v,{location:"top",transition:"scale-transition",activator:"parent",text:"Resetear contraseña"})]),_:2},1032,["onClick"])]),_:1},512)]),_:1})])}}});export{pt as default};
