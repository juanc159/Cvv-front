import{aD as u,af as r}from"./index-50c65686.js";const h=u("useCrudServiceStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,image:null,title:null,html:null},serviceData:{},services:[],totalData:0,totalPage:0,currentPage:1,lastPage:0}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,image:null,title:null,html:null}},async fetchAll(a){var i;this.loading.table=!0;const{data:e,response:t,error:s,isFetching:l}=await r("/service-list").post(a);this.loading.table=l.value,(i=t.value)!=null&&i.ok&&e.value&&(this.services=e.value.services,this.totalData=e.value.totalData,this.totalPage=e.value.totalPage,this.currentPage=e.value.currentPage,this.lastPage=e.value.lastPage)},async fetchDataForm(a,e="create"){var n;this.loading.form=!0;const t=a?`/service-dataForm/${e}/${a}`:`/service-dataForm/${e}`,{data:s,response:l,error:i,isFetching:o}=await r(t).get();this.loading.form=!1,(n=l.value)!=null&&n.ok&&s.value&&(this.form=s.value.form)},async fetchSave(){var i;const a=new FormData;for(const o in this.form)a.append(o,this.form[o]);this.loading.form=!0;const{data:e,response:t,error:s,isFetching:l}=await r("/service-create").post(a);return this.loading.form=!1,(i=t.value)!=null&&i.ok&&e.value&&(this.form=e.value.data),e.value},async fetchDelete(a){this.loading.table=!0;const{isFetching:e}=await r("/service-delete/"+a).delete();this.loading.table=e.value},async changeState(a){var l;this.loading.table=!0;const{data:e,response:t,isFetching:s}=await r("/service-changeState").post(a);return this.loading.table=s.value,(l=t.value)!=null&&l.ok&&e.value&&(this.form=e.value.data),e.value}}});export{h as u};
