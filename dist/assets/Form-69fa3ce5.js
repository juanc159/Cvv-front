import{V as k,r as f}from"./VForm-47a2101d.js";import{_ as q}from"./AppTextField.vue_vue_type_script_setup_true_lang-dc2bc2f0.js";import{_ as S}from"./AppSelect.vue_vue_type_script_setup_true_lang-f8cd3cda.js";import{d as $,p as B,r as c,R as w,Q as T,L as A,o as j,c as N,b as r,f as t,k as e,ag as R,B as U,aA as D,aB as E}from"./index-a70c310d.js";import{u as K}from"./useImageUpload-77d7b627.js";import{u as z}from"./useCrudSubjectStore-cd46a882.js";import{V as G}from"./VCardText-a04b16cb.js";import{V}from"./VRow-4f083af2.js";import{V as u}from"./VCol-e195c0cc.js";import{V as H}from"./VCard-d61c3423.js";import"./helpers-3edea678.js";import"./VField-2ed8a089.js";import"./VTextField-8ddf2a14.js";import"./VImg-b4a62fd2.js";import"./VSelect-0806c770.js";import"./VList-4ee0ffd8.js";import"./ssrBoot-7b1f0168.js";import"./VAvatar-22f50111.js";import"./VDivider-1ec40492.js";import"./dialog-transition-3794d2d4.js";import"./VMenu-40ddb4d3.js";import"./VChip-9a337289.js";import"./sweetalert2.all-e795d634.js";import"./_commonjsHelpers-725317a4.js";/* empty css              */const fe=$({__name:"Form",setup(I){const _=B(),{toast:g}=E(),p=c(),m=z();w();const{form:n,loading:v,typeEducations:y}=T(m),C=c(K()),i=c({}),F=async()=>{var o,d;const a=await((o=p.value)==null?void 0:o.validate());if(a!=null&&a.valid){const l=await m.fetchSave();(l==null?void 0:l.code)===200&&(i.value={},C.value.clearData(),await((d=p.value)==null?void 0:d.resetValidation())),(l==null?void 0:l.code)===422&&(i.value=l.errors??{})}else g("Faltan Campos Por Diligenciar","","danger")};return A(async()=>{m.clearForm(),await m.fetchDataForm(Number(_.params.id),_.params.action)}),(a,o)=>{const d=D,l=S,b=q;return j(),N("div",null,[r(H,null,{default:t(()=>[r(G,null,{default:t(()=>[r(V,null,{default:t(()=>[r(u,null,{default:t(()=>[r(d,{"sub-title":"Formulario Subject",action:String(a.$route.params.action),"btn-action":"list","validate-crud":!0,"btn-back":!0,onChangeScreenBack:a.$router.back},null,8,["action","onChangeScreenBack"])]),_:1})]),_:1}),r(e(k),{ref_key:"formValidation",ref:p,"lazy-validation":""},{default:t(()=>[r(V,null,{default:t(()=>[r(u,{cols:"12",sm:"3"},{default:t(()=>[r(l,{clearable:"",modelValue:e(n).type_education_id,"onUpdate:modelValue":o[0]||(o[0]=s=>e(n).type_education_id=s),rules:["requiredValidator"in a?a.requiredValidator:e(f)],"error-messages":e(i).type_education_id,label:"Tipo",onChange:o[1]||(o[1]=s=>e(i).type_education_id=""),requiredField:!0,items:e(y)},null,8,["modelValue","rules","error-messages","items"])]),_:1}),r(u,{cols:"12",sm:"3"},{default:t(()=>[r(b,{clearable:"",modelValue:e(n).name,"onUpdate:modelValue":o[2]||(o[2]=s=>e(n).name=s),rules:["requiredValidator"in a?a.requiredValidator:e(f)],"error-messages":e(i).name,label:"Nombre",onKeypress:o[3]||(o[3]=s=>e(i).name=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1}),r(u,{cols:"12",sm:"3"},{default:t(()=>[r(b,{clearable:"",modelValue:e(n).code,"onUpdate:modelValue":o[4]||(o[4]=s=>e(n).code=s),rules:["requiredValidator"in a?a.requiredValidator:e(f)],"error-messages":e(i).code,label:"Codigo",onKeypress:o[5]||(o[5]=s=>e(i).code=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),r(V,null,{default:t(()=>[r(u,{cols:"12",class:"d-flex justify-center"},{default:t(()=>[r(R,{loading:e(v).form,color:"primary",onClick:o[6]||(o[6]=s=>F())},{default:t(()=>[U(" Guardar ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])}}});export{fe as default};
