import{d as g,r as d,t as A,a as R,c as L,o as T,e as l,b as a,l as e,W as h,f as o,O as w,E as q,af as x,a9 as B,D as F,a7 as N,G as P,aU as S,aZ as $}from"./index-u3uCcp0U.js";import{r as b,p as j,c as z}from"./validators-HMCtv8cK.js";import{_ as I}from"./AppTextField.vue_vue_type_script_setup_true_lang-DCkJahWn.js";import{a as U,b as E}from"./auth-v1-top-shape-Be0n9vOV.js";import{V}from"./VNodeRenderer-BgemhAfD.js";import{c as M,a as D,V as H}from"./VCard-BkC9YkE3.js";import{V as y}from"./VCardText-CxgYmRY-.js";import{V as Z}from"./VForm-CWjbSSbs.js";import{V as G,a as p}from"./VRow-CjKMUkpB.js";import"./helpers-BYlhGQ9-.js";import"./constants-2GBt7OCP.js";import"./VTextField-Duve1Hnw.js";/* empty css                   */import"./VCounter-BIc85nI4.js";import"./VImg-dor5jAhO.js";import"./VAvatar-CNTIVpoH.js";/* empty css              */const O={class:"auth-wrapper d-flex align-center justify-center pa-4"},W={class:"position-relative my-sm-16"},J={class:"app-logo"},K={class:"app-logo-title"},Q=l("h4",{class:"text-h4 mb-1"}," Restablecer contrase帽a  ",-1),X=l("p",{class:"mb-0"}," Su nueva contrase帽a debe ser diferente de las utilizadas anteriormente ",-1),Y=l("span",null,[l("p",null,"Requisitos de la Contrase帽a:"),l("ul",{class:"ml-4"},[l("li",null,"Longitud m铆nima de 8 caracteres."),l("li",null,"Al menos una letra may煤scula (A-Z)."),l("li",null,"Al menos una letra min煤scula (a-z)."),l("li",null,"Al menos un car谩cter especial de este conjunto: !@#$%&*()."),l("li",null,"Al menos un n煤mero (0-9).")])],-1),ee=l("span",null,"Volver al inicio de sesi贸n",-1),we=g({__name:"ResetPassword",setup(ae){const n=d({token:"",email:"",password:"",password_confirmation:""}),u=d(!1),m=d(!1),_=d(),c=d(!1),v=A(),C=[s=>b(s),s=>z(n.value.password_confirmation,s)],k=async()=>{var t,i;const s=await((t=_.value)==null?void 0:t.validate());if(s!=null&&s.valid){n.value.email=v.query.email,n.value.token=v.params.token,c.value=!0;const{data:f,response:r}=await S("/password/reset").post(n.value);c.value=!1,(i=r.value)!=null&&i.ok&&f.value&&$.push({name:"Login"})}};return(s,t)=>{const i=R("RouterLink"),f=I;return T(),L("div",O,[l("div",W,[a(e(V),{nodes:("h"in s?s.h:e(h))("div",{innerHTML:e(U)}),class:"text-primary auth-v1-top-shape d-none d-sm-block"},null,8,["nodes"]),a(e(V),{nodes:("h"in s?s.h:e(h))("div",{innerHTML:e(E)}),class:"text-primary auth-v1-bottom-shape d-none d-sm-block"},null,8,["nodes"]),a(H,{class:P(["auth-card",s.$vuetify.display.smAndUp?"pa-6":"pa-2"]),"max-width":"460"},{default:o(()=>[a(M,{class:"justify-center"},{default:o(()=>[a(D,null,{default:o(()=>[a(i,{to:"/"},{default:o(()=>[l("div",J,[a(e(V),{nodes:e(w).app.logo},null,8,["nodes"]),l("h1",K,q(e(w).app.title),1)])]),_:1})]),_:1})]),_:1}),a(y,null,{default:o(()=>[Q,X]),_:1}),a(y,null,{default:o(()=>[a(Z,{ref_key:"refForm",ref:_,onSubmit:x(()=>{},["prevent"])},{default:o(()=>[a(G,null,{default:o(()=>[a(p,{cols:"12"},{default:o(()=>[a(f,{modelValue:e(n).password,"onUpdate:modelValue":t[0]||(t[0]=r=>e(n).password=r),autofocus:"",label:"Nueva contrase帽a",placeholder:"路路路路路路路路路路路路",type:e(u)?"text":"password","append-inner-icon":e(u)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[1]||(t[1]=r=>u.value=!e(u)),rules:["requiredValidator"in s?s.requiredValidator:e(b),"passwordValidator"in s?s.passwordValidator:e(j)]},null,8,["modelValue","type","append-inner-icon","rules"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(f,{modelValue:e(n).password_confirmation,"onUpdate:modelValue":t[2]||(t[2]=r=>e(n).password_confirmation=r),label:"Confirmar contrase帽a",placeholder:"路路路路路路路路路路路路",type:e(m)?"text":"password","append-inner-icon":e(m)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[3]||(t[3]=r=>m.value=!e(m)),rules:C},null,8,["modelValue","type","append-inner-icon"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[Y]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(B,{block:"",type:"submit",onClick:k,loading:e(c),disabled:e(c)},{default:o(()=>[F(" Establecer nueva contrase帽a ")]),_:1},8,["loading","disabled"])]),_:1}),a(p,{cols:"12"},{default:o(()=>[a(i,{class:"d-flex align-center justify-center",to:{name:"Login"}},{default:o(()=>[a(N,{icon:"tabler-chevron-left",size:"20",class:"me-1 flip-in-rtl"}),ee]),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["class"])])])}}});export{we as default};
