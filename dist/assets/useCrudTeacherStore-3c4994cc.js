import{aD as c,af as i}from"./index-b0a545ba.js";const m=c("useCrudTeacherStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,type_education_id:null,job_position_id:null,complementaries:[],name:null,last_name:null,email:null,phone:null,photo:null},teacherData:{},teachers:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,jobPositions:[],typeEducations:[],sections:[]}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,type_education_id:null,job_position_id:null,complementaries:[],name:null,last_name:null,email:null,phone:null,photo:null}},async fetchAll(a){var s;this.loading.table=!0;const{data:e,response:l,error:t,isFetching:o}=await i("/teacher-list").post(a);this.loading.table=!1,(s=l.value)!=null&&s.ok&&e.value&&(this.teachers=e.value.teachers,this.totalData=e.value.totalData,this.totalPage=e.value.totalPage,this.currentPage=e.value.currentPage,this.lastPage=e.value.lastPage)},async fetchDataForm(a,e="create"){var r,u;this.loading.form=!0;const l=a?`/teacher-dataForm/${e}/${a}`:`/teacher-dataForm/${e}`,{data:t,response:o,error:s,isFetching:n}=await i(l).get();this.loading.form=!1,(r=o.value)!=null&&r.ok&&t.value&&(this.jobPositions=t.value.jobPositions,this.typeEducations=t.value.typeEducations,this.sections=t.value.sections),(u=o.value)!=null&&u.ok&&t.value.form&&(this.form=t.value.form)},async fetchSave(){var s;const a=new FormData;for(const n in this.form)a.append(n,this.form[n]);a.delete("complementaries"),a.append("complementaries",JSON.stringify(this.form.complementaries));const{data:e,response:l,error:t,isFetching:o}=await i("/teacher-create").post(a);return(s=l.value)!=null&&s.ok&&e.value&&(this.form=e.value.data),e.value},async fetchDelete(a){this.loading.table=!0,await i("/teacher-delete/"+a).delete(),this.loading.table=!1},async changeState(a){var o;this.loading.table=!0;const{data:e,response:l,isFetching:t}=await i("/teacher-changeState").post(a);return this.loading.table=!1,(o=l.value)!=null&&o.ok&&e.value&&(this.form=e.value.data),e.value}}});export{m as u};
