import{_ as $}from"./AppSelect.vue_vue_type_script_setup_true_lang-BB4zhTDl.js";import{V as P}from"./VTextField-Dy7eg4Nt.js";import{V as b}from"./VDivider-BA1CFZFw.js";import{d as j,r as v,M as z,w as S,o as h,g as L,bR as R,k as w,f as r,e as I,b as a,c as x,ck as T,G as B,ad as C,a8 as N,p as A,z as M,H as E,n as F,j as G}from"./index-d--exNae.js";import{a as Q,V as H}from"./VRow-DWtH4oj-.js";const O={key:0,class:"text-center"},U={key:1,class:"d-flex justify-content-between aling-items-center p-2"},Y=j({__name:"SelectInfinite",props:{items:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1},select:{type:Object,default:()=>({})},multiple:{type:Boolean,default:()=>!1}},emits:["clearVmodel"],setup(t,{emit:d}){const{items:k,loading:f,select:l}=t,s=d,e=v(!1);z(()=>{l.totalLinks.value>1&&(e.value=!0)});const m=()=>{s("clearVmodel",!0),l.next()},c=()=>{s("clearVmodel",!0),l.prev()};return S(l.dataNueva,()=>{e.value==!1&&l.totalLinks.value>1&&(e.value=!0)}),(p,n)=>{const y=$;return h(),L(y,M(p.$attrs,{items:t.select.dataNueva.value,multiple:t.multiple}),R({_:2},[w(e)?{name:"prepend-item",fn:r(()=>[I("div",null,[a(P,{clearable:"",placeholder:"Buscar...	",class:"mb-2",modelValue:t.select.searchQueryInfinite.value,"onUpdate:modelValue":n[0]||(n[0]=o=>t.select.searchQueryInfinite.value=o)},null,8,["modelValue"]),a(b)])]),key:"0"}:void 0,w(e)?{name:"append-item",fn:r(()=>[I("div",null,[a(b),t.loading?(h(),x("div",O,[a(T,{size:"24",color:"primary",indeterminate:""})])):B("",!0),t.loading?B("",!0):(h(),x("div",U,[a(H,null,{default:r(()=>[a(Q,{sm:"6",class:"text-left"},{default:r(()=>[a(C,{class:"mt-2 ml-5",disabled:t.select.page.value<=1,onClick:n[1]||(n[1]=o=>c()),color:"primary",icon:""},{default:r(()=>[a(N,{icon:"tabler-chevron-left"})]),_:1},8,["disabled"])]),_:1}),a(Q,{sm:"6",class:"text-right"},{default:r(()=>[a(C,{class:"mt-2 mr-5",disabled:t.select.page.value>=t.select.totalLinks.value,onClick:n[2]||(n[2]=o=>m()),color:"primary",icon:""},{default:r(()=>[a(N,{icon:"tabler-chevron-right"})]),_:1},8,["disabled"])]),_:1})]),_:1})]))])]),key:"1"}:void 0,A(p.$slots,(o,i)=>({name:i,fn:r(u=>[E(p.$slots,i,F(G(u||{})))])}))]),1040,["items","multiple"])}}});function Z(t,d=[],k=0,f={}){const l=v(""),s=v([]),e=v(1),m=v(1),c=v({}),p=async()=>{e.value--,e.value<=1&&(e.value=1),await y()},n=async()=>{e.value++,e.value>m.value&&(e.value=m.value),await y()},y=async()=>{let i={page:e.value,searchQueryInfinite:l.value};for(const u in f)i[u]=f[u];for(const u in c.value)i[u]=c[u];await t(i),s.value=[],s.value.push(...d.value)};let o=null;return S(l,async(i,u)=>{o&&clearTimeout(o),e.value=1;let g={page:e.value,searchQueryInfinite:i};for(const V in f)g[V]=f[V];for(const V in c.value)g[V]=c[V];o=setTimeout(async()=>{await t(g),s.value=[],d&&d.value!==void 0&&s.value.push(...d.value),k&&k.value!==void 0&&(m.value=k.value)},300)}),{searchQueryInfinite:l,dataNueva:s,page:e,filterInterno:c,next:n,prev:p,search:y,totalLinks:m}}export{Y as _,Z as u};
