import{aD as n,af as s}from"./index-0d887ff2.js";const m=n("useCrudCompanyStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,name:null,slogan:null,iframeGoogleMap:null,image_principal:null,arrayDetails:[]},companyData:{},companies:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,typeDetails:[]}),getters:{},actions:{clearForm(){this.form={id:null,name:null,slogan:null,iframeGoogleMap:null,image_principal:null,arrayDetails:[]}},async fetchAll(e){var t;this.loading.table=!0;const{data:a,response:l,error:o}=await s("/company-list").post(e);this.loading.table=!1,(t=l.value)!=null&&t.ok&&a.value&&(this.companies=a.value.companies,this.totalData=a.value.totalData,this.totalPage=a.value.totalPage,this.currentPage=a.value.currentPage,this.lastPage=a.value.lastPage)},async fetchDataForm(e,a="create"){var i;this.loading.form=!0;const l=e?`/company-dataForm/${a}/${e}`:`/company-dataForm/${a}`,{data:o,response:t,error:r}=await s(l).get();this.loading.form=!1,(i=t.value)!=null&&i.ok&&o.value&&(this.form=o.value.form,this.typeDetails=o.value.typeDetails)},async fetchSave(){var t;const e=new FormData;for(const r in this.form)e.append(r,this.form[r]);e.append("arrayDetails",JSON.stringify(this.form.arrayDetails)),this.loading.form=!0;const{data:a,response:l,error:o}=await s("/company-create").post(e);return this.loading.form=!1,(t=l.value)!=null&&t.ok&&a.value&&(this.form=a.value.data),a.value},async fetchDelete(e){this.loading.table=!0,await s("/company-delete/"+e).delete(),this.loading.table=!1},async changeState(e){var t;this.loading.table=!0;const{data:a,response:l,isFetching:o}=await s("/company-changeState").post(e);return this.loading.table=!1,(t=l.value)!=null&&t.ok&&a.value&&(this.form=a.value.data),a.value}}});export{m as u};
