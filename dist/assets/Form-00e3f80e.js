import{V as q,r as c}from"./VForm-fa5c9aa5.js";import{_ as S}from"./AppTextField.vue_vue_type_script_setup_true_lang-e6c51547.js";import{_ as k}from"./AppSelect.vue_vue_type_script_setup_true_lang-0ed834ab.js";import{d as $,j as w,r as f,a0 as B,$ as T,E as j,o as A,c as N,b as o,f as t,n as e,a9 as U,t as D,aw as E,ax as R}from"./index-62a8d4f5.js";import{u as K}from"./useImageUpload-a6a68b5f.js";import{u as z}from"./useCrudSubjectStore-4decaf5e.js";import{V as G}from"./VCardText-3f72e3f5.js";import{V}from"./VRow-40c52f12.js";import{V as u}from"./VCol-4eac919d.js";import{V as H}from"./VCard-7bf16d15.js";import"./helpers-3edea678.js";import"./VField-c4281105.js";import"./VTextField-1b4a69f4.js";import"./VImg-5c0c0084.js";import"./VSelect-fc294de7.js";import"./VList-f4c8b1f5.js";import"./ssrBoot-4d1dc1da.js";import"./VAvatar-7b61dc52.js";import"./VDivider-c783ce8f.js";import"./dialog-transition-1ac5c7f8.js";import"./VMenu-2b898e89.js";import"./VChip-a8df01b2.js";import"./sweetalert2.all-ae952bba.js";import"./_commonjsHelpers-725317a4.js";/* empty css              */const ce=$({__name:"Form",setup(I){const _=w(),{toast:g}=R(),p=f(),m=z();B();const{form:n,loading:v,typeEducations:y}=T(m),C=f(K()),s=f({}),F=async()=>{var r,d;const a=await((r=p.value)==null?void 0:r.validate());if(a!=null&&a.valid){const l=await m.fetchSave();(l==null?void 0:l.code)===200&&(s.value={},C.value.clearData(),await((d=p.value)==null?void 0:d.resetValidation())),(l==null?void 0:l.code)===422&&(s.value=l.errors??{})}else g("Faltan Campos Por Diligenciar","","danger")};return j(async()=>{m.clearForm(),await m.fetchDataForm(Number(_.params.id),_.params.action)}),(a,r)=>{const d=E,l=k,b=S;return A(),N("div",null,[o(H,null,{default:t(()=>[o(G,null,{default:t(()=>[o(V,null,{default:t(()=>[o(u,null,{default:t(()=>[o(d,{"sub-title":"Formulario Subject",action:String(a.$route.params.action),"btn-action":"list","validate-crud":!0,"btn-back":!0,onChangeScreenBack:a.$router.back},null,8,["action","onChangeScreenBack"])]),_:1})]),_:1}),o(e(q),{ref_key:"formValidation",ref:p,"lazy-validation":""},{default:t(()=>[o(V,null,{default:t(()=>[o(u,{cols:"12",sm:"3"},{default:t(()=>[o(l,{clearable:"",modelValue:e(n).type_education_id,"onUpdate:modelValue":r[0]||(r[0]=i=>e(n).type_education_id=i),rules:["requiredValidator"in a?a.requiredValidator:e(c)],"error-messages":e(s).type_education_id,label:"Tipo",onChange:r[1]||(r[1]=i=>e(s).type_education_id=""),requiredField:!0,items:e(y)},null,8,["modelValue","rules","error-messages","items"])]),_:1}),o(u,{cols:"12",sm:"3"},{default:t(()=>[o(b,{clearable:"",modelValue:e(n).name,"onUpdate:modelValue":r[2]||(r[2]=i=>e(n).name=i),rules:["requiredValidator"in a?a.requiredValidator:e(c)],"error-messages":e(s).name,label:"Nombre",onKeypress:r[3]||(r[3]=i=>e(s).name=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1}),o(u,{cols:"12",sm:"3"},{default:t(()=>[o(b,{clearable:"",modelValue:e(n).code,"onUpdate:modelValue":r[4]||(r[4]=i=>e(n).code=i),rules:["requiredValidator"in a?a.requiredValidator:e(c)],"error-messages":e(s).code,label:"Codigo",onKeypress:r[5]||(r[5]=i=>e(s).code=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),o(V,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-center"},{default:t(()=>[o(U,{loading:e(v).form,color:"primary",onClick:F},{default:t(()=>[D(" Guardar ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])}}});export{ce as default};
