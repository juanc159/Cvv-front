import{r as l,N as u,c as d,e as n,E as r,o as g}from"./index-ByDS42or.js";const b=n("h1",null,"Testing Laravel Reverb with Vue 3",-1),h=n("h3",null,"Debug Info:",-1),m={__name:"second-page",setup(v){const c=l("Waiting for message..."),t=l("Connecting..."),a=l({});u(()=>{console.log("WebSocket Config:",{key:"otm5syqaviw1uw9iqpen",host:"colegiovirgendelvalle.com.co",port:"443",scheme:"https"}),window.Echo.connector.pusher.bind("pusher:connection_established",()=>{console.log("WebSocket connected!"),t.value="Connected"}),window.Echo.connector.pusher.bind("pusher:error",e=>{console.log("WebSocket error:",e),t.value="Error: "+e.message});const o=window.Echo.channel("test-channel");o.subscribed(()=>{console.log("âœ… Subscribed to test-channel"),t.value="Connected & Subscribed"}),o.listen(".TestEvent",e=>{console.log("ðŸŽ‰ Evento recibido:",e),c.value=e.message,a.value=e}),o.listenForWhisper("*",(e,s)=>{console.log("ðŸ“¢ Evento whisper:",e,s)}),window.Echo.connector.pusher.bind_global((e,s)=>{console.log("ðŸŒ Global event:",e,s),e.includes(".TestEvent")&&(console.log("ðŸŽ¯ .TestEvent capturado globalmente:",s),c.value=s.message||"Evento recibido sin mensaje")})});const i=async()=>{try{console.log("ðŸš€ Enviando test broadcast...");const e=await(await fetch("https://back.colegiovirgendelvalle.com.co/api/test-broadcast")).json();console.log("âœ… Test broadcast result:",e)}catch(o){console.error("âŒ Error testing broadcast:",o)}};return(o,e)=>(g(),d("div",null,[b,n("p",null,"Connection Status: "+r(t.value),1),n("p",null,"Message from Reverb: "+r(c.value),1),n("button",{onClick:i},"Test Connection"),n("div",null,[h,n("pre",null,r(a.value),1)])]))}};export{m as default};
