import{aA as u,ab as i}from"./index-f0a17608.js";const m=u("useCrudCompanyStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,name:null,slogan:null,iframeGoogleMap:null,image_principal:null,arrayDetails:[]},companyData:{},companies:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,typeDetails:[]}),getters:{},actions:{clearForm(){this.form={id:null,name:null,slogan:null,iframeGoogleMap:null,image_principal:null,arrayDetails:[]}},async fetchAll(e){var s;this.loading.table=!0;const{data:a,response:t,error:l,isFetching:o}=await i("/company-list").post(e);this.loading.table=o.value,(s=t.value)!=null&&s.ok&&a.value&&(this.companies=a.value.companies,this.totalData=a.value.totalData,this.totalPage=a.value.totalPage,this.currentPage=a.value.currentPage,this.lastPage=a.value.lastPage)},async fetchDataForm(e,a="create"){var r;this.loading.form=!0;const t=e?`/company-dataForm/${a}/${e}`:`/company-dataForm/${a}`,{data:l,response:o,error:s,isFetching:n}=await i(t).get();this.loading.form=!1,(r=o.value)!=null&&r.ok&&l.value&&(this.form=l.value.form,this.typeDetails=l.value.typeDetails)},async fetchSave(){var s;const e=new FormData;for(const n in this.form)e.append(n,this.form[n]);e.append("arrayDetails",JSON.stringify(this.form.arrayDetails)),this.loading.form=!0;const{data:a,response:t,error:l,isFetching:o}=await i("/company-create").post(e);return this.loading.form=!1,(s=t.value)!=null&&s.ok&&a.value&&(this.form=a.value.data),a.value},async fetchDelete(e){this.loading.table=!0;const{isFetching:a}=await i("/company-delete/"+e).delete();this.loading.table=a.value},async changeState(e){var o;this.loading.table=!0;const{data:a,response:t,isFetching:l}=await i("/company-changeState").post(e);return this.loading.table=l.value,(o=t.value)!=null&&o.ok&&a.value&&(this.form=a.value.data),a.value}}});export{m as u};
