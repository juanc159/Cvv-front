import{r as w}from"./validators-D_qQoJBv.js";import{ag as T,ah as M,aF as H,aG as N,X as j,ai as $,aH as E,b as e,z as I,aI as G,d as z,r as g,U as K,R as X,al as h,a as Y,c as J,o as O,e as i,k as t,N as P,D as Q,f as o,ac as W,ae as Z,C as F,ad as ee,F as ae}from"./index-BAItGVH2.js";import{_ as te}from"./AppTextField.vue_vue_type_script_setup_true_lang-B8XAGnfi.js";import{u as A,a as se,b as oe}from"./misc-mask-light-C0FJxWhM.js";import{V as re}from"./VNodeRenderer-Dg3HF_Zq.js";import{i as le}from"./helpers-D3e9kNhm.js";import{a as b,V as B}from"./VRow-BIbpWBoX.js";import{V as ne}from"./VImg-1hh5Q7VF.js";import{V as ie}from"./VCard-CmPL9I_X.js";import{V as L}from"./VCardText-CKsHOUnf.js";import{V as ue}from"./VForm-C6IHzB15.js";import{V as R,m as de}from"./VCheckboxBtn-wTbksdHj.js";import{u as me,a as D,m as ce}from"./VInput-BGlwuINA.js";import"./VTooltip-YLHYmrbN.js";import"./VOverlay-XBCOvlrD.js";import"./forwardRefs-C-GTDzx5.js";import"./VTextField-Ds9vgKUN.js";/* empty css                   */import"./VCounter-t3VFnDGh.js";import"./constants-2GBt7OCP.js";/* empty css              */import"./VAvatar-DAr9Gg9N.js";import"./VSelectionControl-C1L2QySk.js";const pe=M({...ce(),...G(de(),["inline"])},"VCheckbox"),fe=T()({name:"VCheckbox",inheritAttrs:!1,props:pe(),emits:{"update:modelValue":r=>!0,"update:focused":r=>!0},setup(r,V){let{attrs:m,slots:c}=V;const p=H(r,"modelValue"),{isFocused:f,focus:k,blur:u}=me(r),d=N(),v=j(()=>r.id||`checkbox-${d}`);return $(()=>{const[_,y]=E(m),C=D.filterProps(r),l=R.filterProps(r);return e(D,I({class:["v-checkbox",r.class]},_,C,{modelValue:p.value,"onUpdate:modelValue":a=>p.value=a,id:v.value,focused:f.value,style:r.style}),{...c,default:a=>{let{id:s,messagesId:x,isDisabled:n,isReadonly:U,isValid:q}=a;return e(R,I(l,{id:s.value,"aria-describedby":x.value,disabled:n.value,readonly:U.value},y,{error:q.value===!1,modelValue:p.value,"onUpdate:modelValue":S=>p.value=S,onFocus:k,onBlur:u}),c)}})}),{}}}),he="/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",Ve="/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",ge="/assets/auth-v2-login-illustration-dark-ClExSVqL.png",be="/assets/auth-v2-login-illustration-light-C4sKfRS1.png",ke={href:"javascript:void(0)"},ve={class:"auth-logo d-flex align-center gap-x-3"},_e={class:"auth-title"},ye={class:"position-relative bg-background w-100 me-0"},xe={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},Ce=["src"],we=i("h4",{class:"text-h4 mb-1"}," Bienvenido Apreciado Usuario ",-1),Ie=i("p",{class:"mb-0"}," Por favor, ingrese su usuario (cédula / correo electrónico) y contraseña. ",-1),Pe={class:"d-flex align-center flex-wrap justify-space-between mt-1 mb-4"},Qe=z({__name:"login",setup(r){const V=g(),m=K(),{loading:c,tokenGoogle:p,rememberMe:f}=X(m),k=g({}),u=g({user:"",password:"",remember:!1}),d=g(!1),v=A(be,ge,Ve,he,!0),_=A(oe,se),y=async()=>{var a;const l=await((a=V.value)==null?void 0:a.validate());if(l!=null&&l.valid){const s=await m.login(u);if(s.code==200){if(s.user.type_user=="student"){h.push({name:"DashboardStudent"});return}if(s.user.type_user=="teacher"){h.push({name:"DashboardTeacher"});return}if(s.user.type_user=="admin"){if(le(s.user.company_id)){h.push({name:"Company-List"});return}h.push({name:"Home"});return}}s.code===422&&(k.value=s.errors??{})}};return m.checkAuthentication()&&h.push({name:"Home"}),(l,a)=>{const s=te,x=Y("RouterLink");return O(),J(ae,null,[i("a",ke,[i("div",ve,[e(t(re),{nodes:t(P).app.logo},null,8,["nodes"]),i("h1",_e,Q(t(P).app.title),1)])]),e(B,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:o(()=>[e(b,{md:"8",class:"d-none d-md-flex"},{default:o(()=>[i("div",ye,[i("div",xe,[e(ne,{"max-width":"613",src:t(v),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),i("img",{class:"auth-footer-mask flip-in-rtl",src:t(_),alt:"auth-footer-mask",height:"280",width:"100"},null,8,Ce)])]),_:1}),e(b,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:o(()=>[e(ie,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:o(()=>[e(L,null,{default:o(()=>[we,Ie]),_:1}),e(L,null,{default:o(()=>[e(ue,{ref_key:"refForm",ref:V,onSubmit:W(()=>{},["prevent"])},{default:o(()=>[e(B,null,{default:o(()=>[e(b,{cols:"12"},{default:o(()=>[e(s,{modelValue:t(u).user,"onUpdate:modelValue":a[0]||(a[0]=n=>t(u).user=n),autofocus:"",label:"Correo electrónico / Cédula de identidad",clearable:"",rules:["requiredValidator"in l?l.requiredValidator:t(w)]},null,8,["modelValue","rules"])]),_:1}),e(b,{cols:"12"},{default:o(()=>[e(s,{modelValue:t(u).password,"onUpdate:modelValue":a[1]||(a[1]=n=>t(u).password=n),label:"Contraseña",placeholder:"············",type:t(d)?"text":"password","append-inner-icon":t(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[2]||(a[2]=n=>d.value=!t(d)),clearable:"",rules:["requiredValidator"in l?l.requiredValidator:t(w)]},null,8,["modelValue","type","append-inner-icon","rules"]),i("div",Pe,[e(fe,{modelValue:t(f),"onUpdate:modelValue":a[3]||(a[3]=n=>Z(f)?f.value=n:null),label:"Recuérdame"},null,8,["modelValue"]),e(x,{class:"text-primary ms-2 mb-1",to:{name:"ForgotPassword"}},{default:o(()=>[F(" ¿Ha olvidado su contraseña? ")]),_:1})]),e(ee,{class:"mt-2",loading:t(c),disabled:t(c),block:"",type:"submit",onClick:a[4]||(a[4]=n=>y())},{default:o(()=>[F(" Ingresar ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Qe as default};
