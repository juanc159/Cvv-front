import{S as v}from"./sweetalert2.esm.all-DOYwHpwi.js";import{r as e,w as m}from"./index-Bs2WbdAz.js";function w(){const l=e(null),o=e(null),i=e(1),u=e(null),a=e([]),c=e(10240),n=e(!1);function d(){var f;console.log("event.target.files[0].name",event.target.files[0]);var s=parseInt(event.target.files[0].size/1024);if(s>c.value)return v.fire({icon:"error",title:"Oops...",text:"Debe registrar máximo 10MB",customClass:{container:"my-swal"}}),r(),!1;const t=(f=event.target.files[0].name.split(".").pop())==null?void 0:f.toLowerCase();return a.value.length>0&&!a.value.includes(t)?(v.fire({icon:"error",title:"Error tipo de extensión",text:`Solo se admite archivos con extensiónes: ${a.value.join(", ")}`,customClass:{container:"my-swal"}}),r(),!1):event.target.files.length===0?(r(),!1):(l.value=event.target.files[0],!0)}m(l,s=>{if(!(s instanceof File))return;const t=new FileReader;t.readAsDataURL(s),n.value=!0,t.addEventListener("load",()=>{console.log("fileReader",t),o.value=t.result,n.value=!1})});function r(){l.value=null,o.value=null,u.value=null,i.value++,n.value=!1}return{imageFile:l,imageUrl:o,handleImageSelected:d,key:i,allowedExtensions:a,clearData:r,name:u,allowedSizeFile:c,loading:n}}export{w as u};
