import{a as b}from"./formatters-1588bd0d.js";import{d as I,R as B,Q as N,q as S,ab as z,o as n,g as i,f as t,b as e,k as r,c as D,C as m,B as l,a6 as k,E}from"./index-cfa8a22c.js";import{V as f}from"./VAvatar-35c3a62a.js";import{V as h}from"./VImg-d28801c8.js";import{V as w}from"./VMenu-671ca350.js";import{V as A,a as c,b as d}from"./VList-f8998f81.js";import{a as R,V as T}from"./VBadge-218cacdf.js";import{V as M}from"./VDivider-59106c60.js";const q={key:1},K=I({__name:"UserProfile",setup(P){const a=B(),{company:p,user:_}=N(a),x=S(),L=()=>{let o="Login";a.user.type_user=="admin"&&(o="Login"),a.user.type_user=="student"&&(o="Login-Estudent"),a.user.type_user=="teacher"&&(o="Login-Teacher"),a.logout(),x.push({name:o})},C=()=>{p.value={},a.getMenuData},V=z(()=>{var s;const o=((s=a.user)==null?void 0:s.full_name)||"";return o||"S/N"});return(o,s)=>(n(),i(T,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(f,{class:"cursor-pointer",color:"primary",variant:"tonal",size:"50"},{default:t(()=>{var g,y;return[(g=r(a).user)!=null&&g.photo?(n(),i(h,{key:0,src:(y=r(a).user)==null?void 0:y.photo},null,8,["src"])):(n(),D("div",q,m(("avatarText"in o?o.avatarText:r(b))(r(V))),1)),e(w,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(A,null,{default:t(()=>[e(c,null,{prepend:t(()=>[e(R,{start:""},{default:t(()=>[e(T,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>{var u;return[(u=r(a).user)!=null&&u.photo?(n(),i(f,{key:0,color:"primary",variant:"tonal"},{default:t(()=>{var v;return[e(h,{src:(v=r(a).user)==null?void 0:v.photo},null,8,["src"])]}),_:1})):(n(),i(f,{key:1,color:"primary",variant:"tonal",size:"50"},{default:t(()=>[l(m(("avatarText"in o?o.avatarText:r(b))(r(V))),1)]),_:1}))]}),_:1})]),_:1})]),default:t(()=>[e(d,{class:"font-weight-semibold"},{default:t(()=>[l(m(r(_).full_name),1)]),_:1})]),_:1}),r(p).id&&!r(_).company_id?(n(),i(c,{key:0,to:{name:"Company-Index"},onClick:C},{prepend:t(()=>[e(k,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(d,null,{default:t(()=>s[1]||(s[1]=[l("Cambiar Empresa")])),_:1})]),_:1})):E("",!0),e(M,{class:"my-2"}),e(c,{onClick:s[0]||(s[0]=u=>L())},{prepend:t(()=>[e(k,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(d,null,{default:t(()=>s[2]||(s[2]=[l("Terminar sesiÃ³n")])),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}});export{K as _};
