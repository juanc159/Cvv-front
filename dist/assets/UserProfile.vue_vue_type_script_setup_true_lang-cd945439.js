import{a as h}from"./formatters-1588bd0d.js";import{d as I,R as B,Q as N,q as S,ad as z,o as s,g as l,f as t,b as e,k as a,c as D,C as c,B as i,a8 as k,E}from"./index-a70c310d.js";import{V as m}from"./VAvatar-22f50111.js";import{V as b}from"./VImg-b4a62fd2.js";import{V as w}from"./VMenu-40ddb4d3.js";import{V as A,a as f,b as d}from"./VList-4ee0ffd8.js";import{a as R,V as x}from"./VBadge-386d1432.js";import{V as M}from"./VDivider-1ec40492.js";const q={key:1},K=I({__name:"UserProfile",setup(P){const r=B(),{company:p,user:_}=N(r),T=S(),C=()=>{let o="Login";r.permissions.length==0&&(o="Login-Estudent"),r.logout(),T.push({name:o})},L=()=>{p.value={},r.getMenuData},V=z(()=>{var n;const o=((n=r.user)==null?void 0:n.full_name)||"";return o||"S/N"});return(o,n)=>(s(),l(x,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(m,{class:"cursor-pointer",color:"primary",variant:"tonal",size:"50"},{default:t(()=>{var g,v;return[(g=a(r).user)!=null&&g.photo?(s(),l(b,{key:0,src:(v=a(r).user)==null?void 0:v.photo},null,8,["src"])):(s(),D("div",q,c(("avatarText"in o?o.avatarText:a(h))(a(V))),1)),e(w,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(A,null,{default:t(()=>[e(f,null,{prepend:t(()=>[e(R,{start:""},{default:t(()=>[e(x,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>{var u;return[(u=a(r).user)!=null&&u.photo?(s(),l(m,{key:0,color:"primary",variant:"tonal"},{default:t(()=>{var y;return[e(b,{src:(y=a(r).user)==null?void 0:y.photo},null,8,["src"])]}),_:1})):(s(),l(m,{key:1,color:"primary",variant:"tonal",size:"50"},{default:t(()=>[i(c(("avatarText"in o?o.avatarText:a(h))(a(V))),1)]),_:1}))]}),_:1})]),_:1})]),default:t(()=>[e(d,{class:"font-weight-semibold"},{default:t(()=>[i(c(a(_).full_name),1)]),_:1})]),_:1}),a(p).id&&!a(_).company_id?(s(),l(f,{key:0,to:{name:"Company-Index"},onClick:L},{prepend:t(()=>[e(k,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(d,null,{default:t(()=>[i("Cambiar Empresa")]),_:1})]),_:1})):E("",!0),e(M,{class:"my-2"}),e(f,{onClick:n[0]||(n[0]=u=>C())},{prepend:t(()=>[e(k,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(d,null,{default:t(()=>[i("Terminar sesiÃ³n")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}});export{K as _};
