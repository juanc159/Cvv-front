import{r as V}from"./validators-DuXW2sp9.js";import{d as B,r as m,V as D,U as R,aM as u,a as q,c as A,o as F,e as r,b as e,l as t,O as _,E as S,f as o,a9 as T,aI as M,D as b,a8 as U,F as j}from"./index-BjO4aHmb.js";import{_ as E}from"./AppTextField.vue_vue_type_script_setup_true_lang-B39xe8cM.js";import{u as k,a as H,b as N}from"./misc-mask-light-DBFOqMmO.js";import{V as P}from"./VNodeRenderer-CIzrkrQx.js";import{i as $}from"./helpers-BbbmGk_m.js";import{a as c,V as v}from"./VRow-B3OxSNxL.js";import{V as G}from"./VImg-Ma6bpgMv.js";import{V as K}from"./VCard-Vu9nndUs.js";import{V as y}from"./VCardText-C-uXbslX.js";import{V as O}from"./VForm-DbUEs9NO.js";import{V as Y}from"./VCheckbox-CTbmIT9u.js";import"./VTooltip-B0e54w3N.js";import"./VOverlay-BAWpplSU.js";import"./forwardRefs-C-GTDzx5.js";import"./VInput-BNLkZghu.js";import"./VTextField-DDV0vgq8.js";/* empty css                   */import"./VCounter-BvP_NY7C.js";import"./constants-2GBt7OCP.js";/* empty css              */import"./VAvatar-gPFLmblj.js";import"./VCheckboxBtn-9Oawpis1.js";import"./VSelectionControl-Cfi-7SRv.js";const z="/assets/auth-v2-login-illustration-bordered-dark-cDkPk8mY.png",J="/assets/auth-v2-login-illustration-bordered-light-CIHqcIVA.png",Q="/assets/auth-v2-login-illustration-dark-ClExSVqL.png",W="/assets/auth-v2-login-illustration-light-C4sKfRS1.png",X={href:"javascript:void(0)"},Z={class:"auth-logo d-flex align-center gap-x-3"},ee={class:"auth-title"},te={class:"position-relative bg-background w-100 me-0"},ae={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},oe=["src"],se=r("h4",{class:"text-h4 mb-1"}," Bienvenido Apreciado Usuario ",-1),re=r("p",{class:"mb-0"}," Por favor, ingrese su usuario (cédula / correo electrónico) y contraseña. ",-1),le={class:"d-flex align-center flex-wrap justify-space-between mt-1 mb-4"},Se=B({__name:"login",setup(ie){const h=m(),p=D(),{loading:g,tokenGoogle:ne,rememberMe:f}=R(p),w=m({}),n=m({user:"",password:"",remember:!1}),d=m(!1),C=k(W,Q,J,z,!0),x=k(N,H),I=async()=>{var a;const l=await((a=h.value)==null?void 0:a.validate());if(l!=null&&l.valid){const s=await p.login(n);if(s.code==200){if(s.user.type_user=="student"){u.push({name:"DashboardStudent"});return}if(s.user.type_user=="teacher"){u.push({name:"DashboardTeacher"});return}if(s.user.type_user=="admin"){if($(s.user.company_id)){u.push({name:"Company-List"});return}u.push({name:"Home"});return}}s.code===422&&(w.value=s.errors??{})}};return p.checkAuthentication()&&u.push({name:"Home"}),(l,a)=>{const s=E,L=q("RouterLink");return F(),A(j,null,[r("a",X,[r("div",Z,[e(t(P),{nodes:t(_).app.logo},null,8,["nodes"]),r("h1",ee,S(t(_).app.title),1)])]),e(v,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:o(()=>[e(c,{md:"8",class:"d-none d-md-flex"},{default:o(()=>[r("div",te,[r("div",ae,[e(G,{"max-width":"613",src:t(C),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),r("img",{class:"auth-footer-mask flip-in-rtl",src:t(x),alt:"auth-footer-mask",height:"280",width:"100"},null,8,oe)])]),_:1}),e(c,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:o(()=>[e(K,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:o(()=>[e(y,null,{default:o(()=>[se,re]),_:1}),e(y,null,{default:o(()=>[e(O,{ref_key:"refForm",ref:h,onSubmit:T(()=>{},["prevent"])},{default:o(()=>[e(v,null,{default:o(()=>[e(c,{cols:"12"},{default:o(()=>[e(s,{modelValue:t(n).user,"onUpdate:modelValue":a[0]||(a[0]=i=>t(n).user=i),autofocus:"",label:"Correo electrónico / Cédula de identidad",clearable:"",rules:["requiredValidator"in l?l.requiredValidator:t(V)]},null,8,["modelValue","rules"])]),_:1}),e(c,{cols:"12"},{default:o(()=>[e(s,{modelValue:t(n).password,"onUpdate:modelValue":a[1]||(a[1]=i=>t(n).password=i),label:"Contraseña",placeholder:"············",type:t(d)?"text":"password","append-inner-icon":t(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":a[2]||(a[2]=i=>d.value=!t(d)),clearable:"",rules:["requiredValidator"in l?l.requiredValidator:t(V)]},null,8,["modelValue","type","append-inner-icon","rules"]),r("div",le,[e(Y,{modelValue:t(f),"onUpdate:modelValue":a[3]||(a[3]=i=>M(f)?f.value=i:null),label:"Recuérdame"},null,8,["modelValue"]),e(L,{class:"text-primary ms-2 mb-1",to:{name:"ForgotPassword"}},{default:o(()=>[b(" ¿Ha olvidado su contraseña? ")]),_:1})]),e(U,{class:"mt-2",loading:t(g),disabled:t(g),block:"",type:"submit",onClick:a[4]||(a[4]=i=>I())},{default:o(()=>[b(" Ingresar ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{Se as default};
