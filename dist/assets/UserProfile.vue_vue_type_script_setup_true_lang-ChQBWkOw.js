import{a as g}from"./formatters-DnJnS_FZ.js";import{_ as x}from"./ModalChangePassword.vue_vue_type_script_setup_true_lang-DY_ueYWc.js";import{ae as I,af as P,aq as w,b as t,aO as A,aX as S,d as M,V as B,U as D,Y as z,r as N,h as v,o as C,f as a,D as r,E as d,l as s,y as E,a7 as _,aY as y}from"./index-CnVhVHgR.js";import{V as b}from"./VAvatar-D8eP3r7o.js";import{V as R}from"./VMenu-DOyC4lhD.js";import{V as U,a as f,b as p,d as Y}from"./VList-DLz1J1gH.js";import{V as h}from"./VBadge-C7UM1eeY.js";import{V as $}from"./VDivider-6Z9hHuv8.js";const q=P({start:Boolean,end:Boolean,...S(),...A()},"VListItemAction"),F=I()({name:"VListItemAction",props:q(),setup(l,i){let{slots:u}=i;return w(()=>t(l.tag,{class:["v-list-item-action",{"v-list-item-action--start":l.start,"v-list-item-action--end":l.end},l.class],style:l.style},u)),{}}}),W=M({__name:"UserProfile",setup(l){const i=B(),{company:u,user:e}=D(i),k=()=>{y.push({name:"Login"}),i.logout()};z(()=>{var n,m,c,o;return e.value?String((m=(n=e.value)==null?void 0:n.name)==null?void 0:m.split(" ")[0])+" "+String((o=(c=e.value)==null?void 0:c.surname)==null?void 0:o.split(" ")[0])||"Administrador":""});const L=()=>{u.value={},i.getMenuData,y.push({name:"Company-List"})},V=N(),T=()=>{V.value.openDialog(e.value.id)};return(n,m)=>{const c=x;return C(),v(h,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:a(()=>[t(b,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:s(g))(s(e).full_name))+" ",1),t(R,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[t(U,null,{default:a(()=>[t(f,null,{prepend:a(()=>[t(F,{start:""},{default:a(()=>[t(h,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[t(b,{color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:s(g))(s(e).full_name)),1)]),_:1})]),_:1})]),_:1})]),default:a(()=>[t(p,{class:"font-weight-semibold"},{default:a(()=>{var o;return[r(d((o=s(e))==null?void 0:o.full_name),1)]}),_:1}),t(Y,null,{default:a(()=>{var o;return[r(d((o=s(e))==null?void 0:o.rol_name),1)]}),_:1})]),_:1}),s(u).id&&!s(e).company_id?(C(),v(f,{key:0,onClick:L},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-building",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Empresa")]),_:1})]),_:1})):E("",!0),t(f,{onClick:T},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-lock",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Constraseña")]),_:1})]),_:1}),t($,{class:"my-2"}),t(f,{onClick:m[0]||(m[0]=o=>k())},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cerrar Sesión")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{ref_key:"refModalChangePassword",ref:V},null,512)]),_:1})}}});export{W as _};
