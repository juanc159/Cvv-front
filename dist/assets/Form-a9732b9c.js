import{V as F,r as f}from"./VForm-3e42ce90.js";import{_ as S}from"./AppTextField.vue_vue_type_script_setup_true_lang-52fa7eed.js";import{_ as k}from"./AppSelect.vue_vue_type_script_setup_true_lang-1b9012d0.js";import{d as q,p as $,r as b,R as B,Q as w,L as T,o as j,c as A,b as o,f as t,k as e,ag as N,B as R,aA as U,aB as D,aC as E}from"./index-f3b96d19.js";import{u as K}from"./useCrudSubjectStore-910622cf.js";import{V as z}from"./VCardText-c3844e3c.js";import{V as c}from"./VRow-78945eb9.js";import{V as u}from"./VCol-c1bc80a4.js";import{V as G}from"./VCard-c8ced344.js";import"./helpers-3edea678.js";import"./VField-d147bf3f.js";import"./VTextField-205b1f25.js";import"./VImg-e73a88ae.js";import"./VSelect-ae982381.js";import"./VList-d6e0bc34.js";import"./ssrBoot-86dbab6a.js";import"./VAvatar-d9871067.js";import"./VDivider-a03056f4.js";import"./dialog-transition-62156624.js";import"./VMenu-f8947885.js";import"./VChip-23131e73.js";/* empty css              */const ue=q({__name:"Form",setup(H){const V=$(),{toast:g}=E(),p=b(),d=K();B();const{form:n,loading:v,typeEducations:y}=w(d),i=b({}),C=async()=>{var r,m;const a=await((r=p.value)==null?void 0:r.validate());if(a!=null&&a.valid){const l=await d.fetchSave();(l==null?void 0:l.code)===200&&(i.value={},await((m=p.value)==null?void 0:m.resetValidation()),U.push({name:"Subject-Index"})),(l==null?void 0:l.code)===422&&(i.value=l.errors??{})}else g("Faltan Campos Por Diligenciar","","danger")};return T(async()=>{d.clearForm(),await d.fetchDataForm(Number(V.params.id),V.params.action)}),(a,r)=>{const m=D,l=k,_=S;return j(),A("div",null,[o(G,null,{default:t(()=>[o(z,null,{default:t(()=>[o(c,null,{default:t(()=>[o(u,null,{default:t(()=>[o(m,{"sub-title":"Formulario Subject",action:String(a.$route.params.action),"btn-action":"list","validate-crud":!0,"btn-back":!0,onChangeScreenBack:a.$router.back},null,8,["action","onChangeScreenBack"])]),_:1})]),_:1}),o(e(F),{ref_key:"formValidation",ref:p,"lazy-validation":""},{default:t(()=>[o(c,null,{default:t(()=>[o(u,{cols:"12",sm:"3"},{default:t(()=>[o(l,{clearable:"",modelValue:e(n).type_education_id,"onUpdate:modelValue":r[0]||(r[0]=s=>e(n).type_education_id=s),rules:["requiredValidator"in a?a.requiredValidator:e(f)],"error-messages":e(i).type_education_id,label:"Tipo",onChange:r[1]||(r[1]=s=>e(i).type_education_id=""),requiredField:!0,items:e(y)},null,8,["modelValue","rules","error-messages","items"])]),_:1}),o(u,{cols:"12",sm:"3"},{default:t(()=>[o(_,{clearable:"",modelValue:e(n).name,"onUpdate:modelValue":r[2]||(r[2]=s=>e(n).name=s),rules:["requiredValidator"in a?a.requiredValidator:e(f)],"error-messages":e(i).name,label:"Nombre",onKeypress:r[3]||(r[3]=s=>e(i).name=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1}),o(u,{cols:"12",sm:"3"},{default:t(()=>[o(_,{clearable:"",modelValue:e(n).code,"onUpdate:modelValue":r[4]||(r[4]=s=>e(n).code=s),rules:["requiredValidator"in a?a.requiredValidator:e(f)],"error-messages":e(i).code,label:"Codigo",onKeypress:r[5]||(r[5]=s=>e(i).code=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),o(c,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-center"},{default:t(()=>[o(N,{loading:e(v).form,color:"primary",onClick:r[6]||(r[6]=s=>C())},{default:t(()=>[R(" Guardar ")]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])}}});export{ue as default};
