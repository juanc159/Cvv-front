import{V as g,r as k}from"./VForm-c18e5bae.js";import{_ as C}from"./AppTextField.vue_vue_type_script_setup_true_lang-7527c8a1.js";import{d as y,r as V,R as F,Q as w,L as B,o as S,c as $,b as e,f as a,k as s,ae as P,B as T,p as q,ay as x,az as A,aA as J}from"./index-70f4e7a4.js";import{u as N}from"./useCrudJobPositionStore-3c6435dd.js";import{V as R}from"./VCardText-f2be9b0f.js";import{V as d}from"./VRow-b73ff23b.js";import{V as f}from"./VCol-839017b6.js";import{V as z}from"./VCard-67e1580c.js";import"./helpers-53221d8d.js";import"./VField-b08dc621.js";import"./VTextField-c7de0601.js";import"./VImg-108291ea.js";/* empty css              */import"./VAvatar-98ee0792.js";const Z=y({__name:"Form",setup(D){const c=q(),{toast:_}=J(),u=V(),n=N();F();const{form:p,loading:b,typeEducations:E}=w(n),i=V({}),v=async()=>{var o,l;const t=await((o=u.value)==null?void 0:o.validate());if(t!=null&&t.valid){const r=await n.fetchSave();(r==null?void 0:r.code)===200&&(i.value={},await((l=u.value)==null?void 0:l.resetValidation()),x.push({name:"JobPosition-Index"})),(r==null?void 0:r.code)===422&&(i.value=r.errors??{})}else _("Faltan Campos Por Diligenciar","","danger")};return B(async()=>{n.clearForm(),await n.fetchDataForm(Number(c.params.id),c.params.action)}),(t,o)=>{const l=A,r=C;return S(),$("div",null,[e(z,null,{default:a(()=>[e(R,null,{default:a(()=>[e(d,null,{default:a(()=>[e(f,null,{default:a(()=>[e(l,{"sub-title":"Formulario JobPosition",action:String(t.$route.params.action),"btn-action":"list","validate-crud":!0,"btn-back":!0,onChangeScreenBack:t.$router.back},null,8,["action","onChangeScreenBack"])]),_:1})]),_:1}),e(s(g),{ref_key:"formValidation",ref:u,"lazy-validation":""},{default:a(()=>[e(d,null,{default:a(()=>[e(f,{cols:"12",sm:"3"},{default:a(()=>[e(r,{clearable:"",modelValue:s(p).name,"onUpdate:modelValue":o[0]||(o[0]=m=>s(p).name=m),rules:["requiredValidator"in t?t.requiredValidator:s(k)],"error-messages":s(i).name,label:"Nombre",onKeypress:o[1]||(o[1]=m=>s(i).name=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),e(d,null,{default:a(()=>[e(f,{cols:"12",class:"d-flex justify-center"},{default:a(()=>[e(P,{loading:s(b).form,color:"primary",onClick:o[2]||(o[2]=m=>v())},{default:a(()=>o[3]||(o[3]=[T(" Guardar ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])}}});export{Z as default};
