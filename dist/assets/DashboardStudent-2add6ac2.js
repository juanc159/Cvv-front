import{a as Q}from"./formatters-1588bd0d.js";import{V as Z,r as J}from"./VForm-a690aa0c.js";import{d as j,r as $,aE as U,o as i,c as x,b as e,f as a,k as s,g as V,E as N,e as o,B as b,C as u,ad as O,a6 as k,ae as h,af as z,L as G,m as M,F as R,p as W,N as E,V as H,R as X,Q as Y,ab as ee}from"./index-50c65686.js";import{_ as ae}from"./AppTextField.vue_vue_type_script_setup_true_lang-49314966.js";import{_ as te}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-045ed938.js";import{V as se,a as oe}from"./VToolbar-ed6788d0.js";import{V as q,b as A,a as ne}from"./VCard-675cf2ac.js";import{V as y}from"./VCardText-e05015f3.js";import{V as F}from"./VRow-8de4b046.js";import{V as D}from"./VCol-d312757d.js";import{V as le}from"./VDialog-be98a5f9.js";import{d as re,o as ie}from"./helpers-3edea678.js";import{V as de}from"./VContainer-710f2649.js";import{V as K}from"./VImg-e3f3832d.js";import{V as L}from"./VDivider-e9dc001d.js";import{V as I}from"./VAvatar-c9cc0d97.js";import"./VField-aa7b9298.js";import"./VTextField-cd60bf09.js";/* empty css              */import"./dialog-transition-49da75ad.js";const ue=j({__name:"ModalChangePassword",emits:["execute"],setup(P,{expose:v,emit:T}){const r=$({}),p=T,t=U({titleDialog:"Cambiar contraseÃ±a",isDialogVisible:!1,isLoading:!1,first_time:!1,statuses:[],form:{id:null,new_password:""}}),d=()=>{t.form={id:null,new_password:""},r.value={},n.value=!1},_=()=>{t.isDialogVisible=!t.isDialogVisible},w=async(m,l=!1)=>{d(),_(),t.form.id=m,t.first_time=l},S=async()=>{var l,f,C;const m=await((l=c.value)==null?void 0:l.validate());if(m!=null&&m.valid){t.isLoading=!0;const{response:g,data:B}=await z("changePassword").post({id:t.form.id,new_password:t.form.new_password});t.isLoading=!1,(f=g.value)!=null&&f.ok&&((C=B.value)==null?void 0:C.code)==200&&(_(),p("execute",!0)),B.value.code==422&&(r.value=B.value.errors??{})}},c=$();v({openDialog:w});const n=$(!1);return(m,l)=>{const f=te,C=ae;return i(),x("div",null,[e(le,{modelValue:s(t).isDialogVisible,"onUpdate:modelValue":l[6]||(l[6]=g=>s(t).isDialogVisible=g),persistent:"","max-width":"40rem",transition:"dialog-transition"},{default:a(()=>[s(t).first_time?N("",!0):(i(),V(f,{key:0,onClick:l[0]||(l[0]=g=>_())})),o("div",null,[e(se,{color:"primary"},{default:a(()=>[e(oe,null,{default:a(()=>[b(u(s(t).titleDialog),1)]),_:1})]),_:1})]),e(q,null,{default:a(()=>[e(y,null,{default:a(()=>[e(Z,{ref_key:"refForm",ref:c,onSubmit:O(()=>{},["prevent"])},{default:a(()=>[e(F,null,{default:a(()=>[s(t).first_time?(i(),V(D,{key:0,cols:"12"},{default:a(()=>l[7]||(l[7]=[o("h4",null,"Â¡Bienvenido! Como es tu primera vez ingresando al sistema, es necesario que cambies tu contraseÃ±a. Por favor, elige una nueva contraseÃ±a que sea segura y fÃ¡cil de recordar.",-1)])),_:1})):N("",!0),e(D,{cols:"12"},{default:a(()=>[e(C,{clearable:"",modelValue:s(t).form.new_password,"onUpdate:modelValue":l[1]||(l[1]=g=>s(t).form.new_password=g),label:"ContraseÃ±a",placeholder:"Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·",type:s(n)?"text":"password","append-inner-icon":s(n)?"tabler-eye-off":"tabler-eye","onClick:appendInner":l[2]||(l[2]=g=>n.value=!s(n)),rules:["requiredValidator"in m?m.requiredValidator:s(J)],"error-messages":s(r).new_password,onKeypress:l[3]||(l[3]=g=>s(r).new_password="")},null,8,["modelValue","type","append-inner-icon","rules","error-messages"])]),_:1}),e(D,{cols:"12"},{default:a(()=>l[8]||(l[8]=[o("span",null," Requisitos de la ContraseÃ±a: MÃ­nimo de 8 caracteres. Debe incluir al menos: Una letra mayÃºscula (A-Z) Una letra minÃºscula (a-z) Un nÃºmero (0-9) AsegÃºrate de que la nueva contraseÃ±a no sea igual a la contraseÃ±a actual. ",-1)])),_:1})]),_:1})]),_:1},512)]),_:1}),e(y,{class:"d-flex justify-end gap-3 flex-wrap"},{default:a(()=>[s(t).first_time?N("",!0):(i(),V(h,{key:0,loading:s(t).isLoading,color:"secondary",variant:"tonal",onClick:l[4]||(l[4]=g=>_())},{default:a(()=>[e(k,{start:"",icon:"tabler-x"}),l[9]||(l[9]=b(" Cancelar "))]),_:1},8,["loading"])),e(h,{disabled:s(t).isLoading,loading:s(t).isLoading,onClick:l[5]||(l[5]=g=>S()),color:"primary"},{default:a(()=>[e(k,{start:"",icon:"tabler-device-floppy"}),l[10]||(l[10]=b(" Cambiar contraseÃ±a "))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),ce={class:"our-team"},me={class:"text-center"},fe={class:"text-h3"},pe={h5:"",class:"text-h5"},_e={class:"text-body-1"},ge={class:"text-body-1"},ve={class:"text-body-1"},be={key:0},ye={class:"d-flex align-center py-1"},xe=["onClick"],Ve=j({__name:"PlanningGradeSectionTeachers",props:{school_id:{type:[String,Number],required:!0},grade_id:{type:[String,Number],required:!0},section_id:{type:[String,Number],required:!0}},setup(P){W();const v=$(),T=$(),r=$(!1);return G(async()=>{r.value=!0;const p=await z(`pw-dataGradeSection/${P.school_id}/${P.grade_id}/${P.section_id}`).get();r.value=!1,p.data&&(v.value=p.data.value.teachers,T.value=p.data.value.title)}),(p,t)=>(i(),V(de,{id:"team"},{default:a(()=>[o("div",ce,[e(F,null,{default:a(()=>[(i(!0),x(R,null,M(s(v),(d,_)=>(i(),V(D,{key:_,cols:"12",lg:"3",sm:"6"},{default:a(()=>[e(q,{flat:"","min-width":"262",class:"position-relative overflow-visible team-card mb-12"},{default:a(()=>[o("div",{style:E({maxHeight:"185px",minHeight:"185px",borderRadius:"90px 20px 0 0",backgroundColor:`${d.backgroundColor}`})},[e(K,{src:d.photo,height:"240",class:"team-image"},null,8,["src"])],4),e(y,{class:"text-center pa-4",style:E({border:`1px solid ${d.backgroundColor}`,borderBlockStart:"none",borderRadius:"0 0 6px 6px",boxSizing:"border-box"})},{default:a(()=>[o("div",me,[o("span",fe,u(d.subject_name),1),t[0]||(t[0]=o("br",null,null,-1)),o("span",pe,u(d.fullName),1),t[1]||(t[1]=o("br",null,null,-1)),o("span",_e,u(d.jobPosition),1),t[2]||(t[2]=o("br",null,null,-1)),o("span",ge,u(d.email),1),t[3]||(t[3]=o("br",null,null,-1)),o("span",ve,u(d.phone),1)]),d.files.length>0?(i(),x("div",be,[e(L),t[4]||(t[4]=o("span",{class:"text-h4 mb-6"},"PlanificaciÃ³n",-1)),(i(!0),x(R,null,M(d.files,(w,S)=>(i(),x("div",{key:S,class:"d-flex flex-column"},[o("div",ye,[e(k,{icon:"tabler-download",color:"primary"}),o("a",{href:"#",onClick:c=>("descargarArchivo"in p?p.descargarArchivo:s(re))(w.path,w.name)},u(w.name),9,xe)])]))),128))])):N("",!0)]),_:2},1032,["style"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}))}});const we=H(Ve,[["__scopeId","data-v-e1fc4243"]]),Ce={class:"title-text"},ke={class:"membership-pricing d-flex flex-column align-center h-100 justify-center"},$e={class:"me-auto pe-4"},he={class:"d-flex align-center mb-6"},De={class:"d-flex align-center mb-0"},Pe={class:"ms-auto ps-4"},Se={class:"d-flex align-center mb-6"},Ne={class:"d-flex align-center mb-0"},Te={key:0,class:"mt-3"},qe={key:1},Be=j({__name:"DashboardStudent",setup(P){const v=X(),{company:T,user:r}=Y(v),p=ee(()=>{var n;const c=((n=v.user)==null?void 0:n.full_name)||"";return c||"S/N"}),t=U({btnPdf:!1}),d=async c=>{var l;t.btnPdf=!0;const{data:n,response:m}=await z(`pw-pdfNote/${c.id}`).get();t.btnPdf=!1,(l=m.value)!=null&&l.ok&&n.value&&ie(n.value.pdf)},_=$(),w=()=>{_.value.openDialog(r.value.id,r.value.first_time)};G(()=>{r.value.first_time&&_.value.openDialog(r.value.id,r.value.first_time)});const S=()=>{r.value.first_time=0};return(c,n)=>{const m=we,l=ue;return i(),x("div",null,[e(q,{class:"mb-6"},{default:a(()=>[e(A,{class:"d-flex justify-center align-center title-container"},{default:a(()=>[o("h3",Ce,u(s(r).full_name),1)]),_:1}),e(F,null,{default:a(()=>[e(D,{cols:"12",sm:"4",md:"12",lg:"5",class:"member-pricing-bg text-center"},{default:a(()=>{var f;return[o("div",ke,[(f=s(v).user)!=null&&f.photo?(i(),V(I,{key:0,color:"primary",variant:"tonal",size:"250"},{default:a(()=>{var C;return[e(K,{src:(C=s(v).user)==null?void 0:C.photo},null,8,["src"])]}),_:1})):(i(),V(I,{key:1,color:"primary",variant:"tonal",size:"50"},{default:a(()=>[b(u(("avatarText"in c?c.avatarText:s(Q))(s(p))),1)]),_:1}))])]}),_:1}),e(D,{cols:"12",sm:"8",md:"12",lg:"7"},{default:a(()=>[e(ne,null,{default:a(()=>[b(u(s(r).id)+" ",1),e(A,null,{default:a(()=>n[2]||(n[2]=[b("Â¡Bienvenido! ðŸŽ‰")])),_:1})]),_:1}),e(y,null,{default:a(()=>n[3]||(n[3]=[b(" Â¡Nos alegra mucho verte aquÃ­! Tu viaje en nuestra plataforma comienza ahora y estamos emocionados de acompaÃ±arte en cada paso. ")])),_:1}),e(y,null,{default:a(()=>n[4]||(n[4]=[b(" Explora tu perfil y descubre todas las herramientas y recursos que hemos preparado para ti. Si tienes alguna pregunta o necesitas asistencia, no dudes en "),o("a",{href:"/support",class:"text-decoration-none"},"contactarnos",-1),b(". Â¡Estamos aquÃ­ para ayudarte a alcanzar tus metas! ")])),_:1}),e(y,null,{default:a(()=>[e(L)]),_:1}),e(y,{class:"d-flex justify-center"},{default:a(()=>[o("div",$e,[o("p",he,[e(h,{loading:s(t).btnPdf,onClick:n[0]||(n[0]=f=>d(s(r))),disabled:!s(r).pdf,variant:"outlined"},{default:a(()=>[e(k,{icon:"tabler-download"}),n[5]||(n[5]=o("span",null,"Descargar Notas",-1))]),_:1},8,["loading","disabled"])]),o("p",De,[e(h,{disabled:"",variant:"outlined"},{default:a(()=>[e(k,{icon:"tabler-download"}),n[6]||(n[6]=o("span",null,"Descargar Boletin",-1))]),_:1})])]),c.$vuetify.display.smAndUp?(i(),V(L,{key:0,vertical:"",inset:""})):N("",!0),o("div",Pe,[o("p",Se,[e(h,{disabled:"",variant:"outlined"},{default:a(()=>[e(k,{icon:"tabler-address-book"}),n[7]||(n[7]=o("span",null,"Contactanos",-1))]),_:1})]),o("p",Ne,[e(h,{variant:"outlined",onClick:n[1]||(n[1]=f=>w())},{default:a(()=>[e(k,{icon:"tabler-lock-open"}),n[8]||(n[8]=o("span",null,"Cambiar contraseÃ±a",-1))]),_:1})])])]),_:1})]),_:1})]),_:1})]),_:1}),e(q,{class:"mb-6",outlined:""},{default:a(()=>[e(A,{class:"d-flex justify-center"},{default:a(()=>[o("h2",null,"Planificaciones "+u(s(r).type_education_name)+" "+u(s(r).grade_name)+" "+u(s(r).section_name),1)]),_:1}),e(y,null,{default:a(()=>{var f;return[((f=s(r).teacherPlannings)==null?void 0:f.length)>0?(i(),x("div",Te,[e(m,{school_id:s(r).company_id,grade_id:s(r).grade_id,section_id:s(r).section_id},null,8,["school_id","grade_id","section_id"])])):(i(),x("div",qe,n[9]||(n[9]=[o("p",null,"No hay planificaciones disponibles para este estudiante.",-1)])))]}),_:1})]),_:1}),e(l,{ref_key:"refModalChangePassword",ref:_,onExecute:S},null,512)])}}});const ea=H(Be,[["__scopeId","data-v-851eca1c"]]);export{ea as default};
