import{aF as c,ah as i}from"./index-41069d15.js";const h=c("useCrudSubjectStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,type_education_id:null,name:null,code:null},subjectData:{},subjects:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,typeEducations:[]}),getters:{},actions:{clearForm(){this.form={id:null,type_education_id:null,name:null,code:null}},async fetchAll(e){var o;this.loading.table=!0;const{data:t,response:l,error:a,isFetching:s}=await i("/subject-list").post(e);this.loading.table=s.value,(o=l.value)!=null&&o.ok&&t.value&&(this.subjects=t.value.subjects,this.totalData=t.value.totalData,this.totalPage=t.value.totalPage,this.currentPage=t.value.currentPage,this.lastPage=t.value.lastPage)},async fetchDataForm(e,t="create"){var r,n;this.loading.form=!0;const l=e?`/subject-dataForm/${t}/${e}`:`/subject-dataForm/${t}`,{data:a,response:s,error:o,isFetching:u}=await i(l).get();this.loading.form=!1,(r=s.value)!=null&&r.ok&&a.value&&(this.typeEducations=a.value.typeEducations),(n=s.value)!=null&&n.ok&&a.value.form&&(this.form=a.value.form)},async fetchSave(){var o;const e=new FormData;for(const u in this.form)e.append(u,this.form[u]);this.loading.form=!0;const{data:t,response:l,error:a,isFetching:s}=await i("/subject-create").post(e);return this.loading.form=!1,(o=l.value)!=null&&o.ok&&t.value&&(this.form=t.value.data),t.value},async fetchDelete(e){this.loading.table=!0;const{isFetching:t}=await i("/subject-delete/"+e).delete();this.loading.table=t.value},async changeState(e){var s;this.loading.table=!0;const{data:t,response:l,isFetching:a}=await i("/subject-changeState").post(e);return this.loading.table=a.value,(s=l.value)!=null&&s.ok&&t.value&&(this.form=t.value.data),t.value}}});export{h as u};
