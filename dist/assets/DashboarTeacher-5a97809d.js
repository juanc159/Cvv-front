import{a as j}from"./formatters-1588bd0d.js";import{a as F,d as I}from"./helpers-53221d8d.js";import{d as R,R as q,Q as z,ab as L,aF as M,r as P,L as $,af as k,o as i,c as v,b as a,f as e,e as n,C as d,k as o,g,B as y,ae as G,a6 as C,F as T,m as w,E as Q,V as H}from"./index-4587cb4c.js";import{b as V,a as J,V as b}from"./VCard-7864a3bc.js";import{V as h}from"./VRow-8230813b.js";import{V as p}from"./VCol-11c0eee5.js";import{V as K}from"./VImg-679f2ee1.js";import{V as B}from"./VAvatar-e63fad11.js";import{V as _}from"./VCardText-3432ca50.js";import{V as O}from"./VDivider-d9ff95b8.js";import{V as U}from"./VDataTable-806879bf.js";/* empty css              */import"./VSelect-cc247f1e.js";import"./VTextField-3e35d1c3.js";import"./VField-ea4548a6.js";import"./VList-a077783d.js";import"./ssrBoot-4eed4231.js";import"./dialog-transition-b290005b.js";import"./VMenu-15dab7af.js";import"./VChip-71c3d81a.js";const W={class:"title-text"},X={class:"membership-pricing d-flex flex-column align-center h-100 justify-center"},Y={class:"ms-auto ps-4"},Z={class:"d-flex align-center mb-0"},ee={class:"d-flex align-center py-1"},ae=["onClick"],te=R({__name:"DashboarTeacher",setup(le){const u=q(),{company:oe,user:D}=z(u),A=L(()=>{var t;const r=((t=u.user)==null?void 0:t.full_name)||"";return r||"S/N"}),N=[{title:"TÃ­tulo",key:"name",sortable:!1}],c=M({form:!1,excel:!1}),m=P();$(async()=>{var l,f;c.form=!0;const{data:r,response:t,error:s}=await k("/teacher-planningShow/"+((l=u.user)==null?void 0:l.id)).get();c.form=!1,(f=t.value)!=null&&f.ok&&r.value&&(m.value=r.value.data)});const S=async r=>{var l;c.excel=!0;const{data:t,response:s}=await k("/teacher-downloadConsolidated/"+r).get();c.excel=!1,(l=s.value)!=null&&l.ok&&t.value&&F(t.value.excel,"Consolidado")};return(r,t)=>(i(),v("div",null,[a(b,{class:"mb-6"},{default:e(()=>[a(V,{class:"d-flex justify-center align-center title-container"},{default:e(()=>[n("h3",W,d(o(D).full_name),1)]),_:1}),a(h,null,{default:e(()=>[a(p,{cols:"12",sm:"4",md:"12",lg:"5",class:"member-pricing-bg text-center"},{default:e(()=>{var s;return[n("div",X,[(s=o(u).user)!=null&&s.photo?(i(),g(B,{key:0,color:"primary",variant:"tonal",size:"250"},{default:e(()=>{var l;return[a(K,{src:(l=o(u).user)==null?void 0:l.photo},null,8,["src"])]}),_:1})):(i(),g(B,{key:1,color:"primary",variant:"tonal",size:"50"},{default:e(()=>[y(d(("avatarText"in r?r.avatarText:o(j))(o(A))),1)]),_:1}))])]}),_:1}),a(p,{cols:"12",sm:"8",md:"12",lg:"7"},{default:e(()=>[a(J,null,{default:e(()=>[a(V,null,{default:e(()=>t[1]||(t[1]=[y("Â¡Bienvenido! ðŸŽ‰")])),_:1})]),_:1}),a(_,null,{default:e(()=>t[2]||(t[2]=[y(" Estimado profesor, En esta secciÃ³n puede consultar todo lo relacionado con su planificaciÃ³n. Se agradece que revise cuidadosamente y, ante cualquier novedad, informe. Muchas gracias. ")])),_:1}),a(_,null,{default:e(()=>[a(O)]),_:1}),a(_,{class:"d-flex justify-center"},{default:e(()=>[n("div",Y,[n("p",Z,[a(G,{disabled:o(c).excel,loading:o(c).excel,variant:"outlined",onClick:t[0]||(t[0]=s=>{var l;return S((l=o(u).user)==null?void 0:l.id)})},{default:e(()=>[a(C,{icon:"tabler-lock-open"}),t[3]||(t[3]=n("span",null,"Cambiar contraseÃ±a",-1))]),_:1},8,["disabled","loading"])])])]),_:1})]),_:1})]),_:1})]),_:1}),a(b,{class:"mb-6",outlined:""},{default:e(()=>[a(V,{class:"d-flex justify-center"},{default:e(()=>t[4]||(t[4]=[n("h2",null,"Planificaciones ",-1)])),_:1}),o(m)?(i(),g(_,{key:0},{default:e(()=>[a(h,null,{default:e(()=>[a(p,{cols:"12",sm:"6"},{default:e(()=>{var s,l;return[n("h2",null,d((s=o(m))==null?void 0:s.name)+" "+d((l=o(m))==null?void 0:l.last_name),1)]}),_:1})]),_:1}),a(h,null,{default:e(()=>[(i(!0),v(T,null,w(o(m).complementaries,(s,l)=>(i(),g(p,{cols:"12",key:l},{default:e(()=>[a(b,null,{default:e(()=>[a(V,{"primary-title":""},{default:e(()=>[n("h2",null,"Grado: "+d(s.grade_name)+" "+d(s.section_name),1)]),_:2},1024),a(_,null,{default:e(()=>[(i(!0),v(T,null,w(s.subjects,(f,E)=>(i(),v("div",{key:E},[n("h3",null,"Planificacion: "+d(f.title),1),a(h,null,{default:e(()=>[a(p,{cols:"12"},{default:e(()=>[a(o(U),{headers:N,items:f.files,"items-per-page":999},{"item.name":e(({item:x,index:se})=>[n("div",ee,[a(C,{icon:"tabler-file",color:"primary"}),n("a",{href:"#",onClick:re=>("descargarArchivo"in r?r.descargarArchivo:o(I))(x.file,x.name)},[n("b",null,d(x.name),1)],8,ae)])]),bottom:e(()=>t[5]||(t[5]=[])),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):Q("",!0)]),_:1})]))}});const Be=H(te,[["__scopeId","data-v-3d5c9257"]]);export{Be as default};
