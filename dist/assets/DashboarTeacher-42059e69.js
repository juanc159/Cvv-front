import{a as j}from"./formatters-1588bd0d.js";import{a as F,d as I}from"./helpers-53221d8d.js";import{d as z,R,Q as q,ab as L,aF as M,r as P,L as $,af as k,o as i,c as v,b as a,f as e,e as n,C as d,k as s,g,B as x,ae as G,a6 as C,F as T,m as w,E as Q,V as H}from"./index-d0670919.js";import{b as V,a as J,V as y}from"./VCard-e76a16db.js";import{V as b}from"./VRow-0989fd53.js";import{V as p}from"./VCol-f9ca3977.js";import{V as K}from"./VImg-5105b70e.js";import{V as B}from"./VAvatar-c50d467b.js";import{V as _}from"./VCardText-e103ba3a.js";import{V as O}from"./VDivider-36ee54ff.js";import{V as U}from"./VDataTable-dadd9591.js";/* empty css              */import"./VSelect-26bb3631.js";import"./VTextField-c9f22d4b.js";import"./VField-15fe7e1a.js";import"./VList-77887f57.js";import"./ssrBoot-d5aa7b69.js";import"./dialog-transition-267dc2dc.js";import"./VMenu-eda721cc.js";import"./VChip-94a2755b.js";const W={class:"title-text"},X={class:"membership-pricing d-flex flex-column align-center h-100 justify-center"},Y={class:"ms-auto ps-4"},Z={class:"d-flex align-center mb-0"},ee={class:"d-flex align-center py-1"},ae=["onClick"],te=z({__name:"DashboarTeacher",setup(le){const u=R(),{company:se,user:D}=q(u),N=L(()=>{var t;const r=((t=u.user)==null?void 0:t.full_name)||"";return r||"S/N"}),A=[{title:"TÃ­tulo",key:"name",sortable:!1}],c=M({form:!1,excel:!1}),m=P();$(async()=>{var l,f;c.form=!0;const{data:r,response:t,error:o}=await k("/teacher-planningShow/"+((l=u.user)==null?void 0:l.id)).get();c.form=!1,(f=t.value)!=null&&f.ok&&r.value&&(m.value=r.value.data)});const S=async r=>{var l;c.excel=!0;const{data:t,response:o}=await k("/teacher-downloadConsolidated/"+r).get();c.excel=!1,(l=o.value)!=null&&l.ok&&t.value&&F(t.value.excel,"Consolidado")};return(r,t)=>(i(),v("div",null,[a(y,{class:"mb-6"},{default:e(()=>[a(V,{class:"d-flex justify-center align-center title-container"},{default:e(()=>[n("h3",W,d(s(D).full_name),1)]),_:1}),a(b,null,{default:e(()=>[a(p,{cols:"12",sm:"4",md:"12",lg:"5",class:"member-pricing-bg text-center"},{default:e(()=>{var o;return[n("div",X,[(o=s(u).user)!=null&&o.photo?(i(),g(B,{key:0,color:"primary",variant:"tonal",size:"250"},{default:e(()=>{var l;return[a(K,{src:(l=s(u).user)==null?void 0:l.photo},null,8,["src"])]}),_:1})):(i(),g(B,{key:1,color:"primary",variant:"tonal",size:"50"},{default:e(()=>[x(d(("avatarText"in r?r.avatarText:s(j))(s(N))),1)]),_:1}))])]}),_:1}),a(p,{cols:"12",sm:"8",md:"12",lg:"7"},{default:e(()=>[a(J,null,{default:e(()=>[a(V,null,{default:e(()=>t[1]||(t[1]=[x("Â¡Bienvenido! ðŸŽ‰")])),_:1})]),_:1}),a(_,null,{default:e(()=>t[2]||(t[2]=[x(" Estimado profesor, En esta secciÃ³n puede consultar todo lo relacionado con su planificaciÃ³n. Se agradece que revise cuidadosamente y, ante cualquier novedad, informe. Muchas gracias. ")])),_:1}),a(_,null,{default:e(()=>[a(O)]),_:1}),a(_,{class:"d-flex justify-center"},{default:e(()=>[n("div",Y,[n("p",Z,[a(G,{disabled:s(c).excel,loading:s(c).excel,variant:"outlined",onClick:t[0]||(t[0]=o=>{var l;return S((l=s(u).user)==null?void 0:l.id)})},{default:e(()=>[a(C,{size:"22",icon:"tabler-file-download"}),t[3]||(t[3]=n("span",null,"Descargar NÃ³mina",-1))]),_:1},8,["disabled","loading"])])])]),_:1})]),_:1})]),_:1})]),_:1}),a(y,{class:"mb-6",outlined:""},{default:e(()=>[a(V,{class:"d-flex justify-center"},{default:e(()=>t[4]||(t[4]=[n("h2",null,"Planificaciones ",-1)])),_:1}),s(m)?(i(),g(_,{key:0},{default:e(()=>[a(b,null,{default:e(()=>[a(p,{cols:"12",sm:"6"},{default:e(()=>{var o,l;return[n("h2",null,d((o=s(m))==null?void 0:o.name)+" "+d((l=s(m))==null?void 0:l.last_name),1)]}),_:1})]),_:1}),a(b,null,{default:e(()=>[(i(!0),v(T,null,w(s(m).complementaries,(o,l)=>(i(),g(p,{cols:"12",key:l},{default:e(()=>[a(y,null,{default:e(()=>[a(V,{"primary-title":""},{default:e(()=>[n("h2",null,"Grado: "+d(o.grade_name)+" "+d(o.section_name),1)]),_:2},1024),a(_,null,{default:e(()=>[(i(!0),v(T,null,w(o.subjects,(f,E)=>(i(),v("div",{key:E},[n("h3",null,"Planificacion: "+d(f.title),1),a(b,null,{default:e(()=>[a(p,{cols:"12"},{default:e(()=>[a(s(U),{headers:A,items:f.files,"items-per-page":999},{"item.name":e(({item:h,index:oe})=>[n("div",ee,[a(C,{icon:"tabler-file",color:"primary"}),n("a",{href:"#",onClick:re=>("descargarArchivo"in r?r.descargarArchivo:s(I))(h.file,h.name)},[n("b",null,d(h.name),1)],8,ae)])]),bottom:e(()=>t[5]||(t[5]=[])),_:2},1032,["items"])]),_:2},1024)]),_:2},1024)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):Q("",!0)]),_:1})]))}});const Be=H(te,[["__scopeId","data-v-dc2dbb9f"]]);export{Be as default};
