import{V as w,r as v}from"./VForm-70447235.js";import{_ as x}from"./AppSelect.vue_vue_type_script_setup_true_lang-f6960b4c.js";import{d as F,R as B,aE as q,r as m,L as A,af as _,o as y,c as E,b as o,f as r,B as u,k as a,e as T,g as D,ae as I,aA as N}from"./index-cfa8a22c.js";import{u as S}from"./useImageUpload-c91dc1a1.js";import{b as $,V as L}from"./VCard-63ab82ca.js";import{V as R}from"./VCardText-741574de.js";import{V as g}from"./VRow-62005efb.js";import{V as p}from"./VCol-b9e5f2ac.js";import{V as U}from"./VField-d89d15f7.js";import{V as j}from"./VFileInput-0620168d.js";import"./helpers-3edea678.js";import"./VSelect-9934eb6d.js";import"./VTextField-729a4146.js";import"./VImg-d28801c8.js";import"./VList-f8998f81.js";import"./ssrBoot-1b9e8071.js";import"./VAvatar-35c3a62a.js";import"./VDivider-59106c60.js";import"./dialog-transition-8bb7e5a0.js";import"./VMenu-671ca350.js";import"./VChip-26398a9e.js";import"./sweetalert2.esm.all-562d67d8.js";/* empty css              */const me=F({__name:"Index",setup(z){const C=B(),{toast:k}=N(),l=q({form:!1}),s=m({company_id:null,type_education_id:null,archive:null}),f=m({}),c=m(),V=m([]),d=m(S());d.value.allowedExtensions=["xls","xlsx"],A(async()=>{var i;l.form=!0;const{data:t,response:e}=await _("note-dataForm").get();l.form=!1,(i=e.value)!=null&&i.ok&&t.value&&(V.value=t.value.typeEducations)});const b=async()=>{var e;s.value.archive=d.value.imageFile,s.value.company_id=C.company.id;const t=await((e=c.value)==null?void 0:e.validate());if(t!=null&&t.valid){const i=new FormData;for(const n in s.value)i.append(n,s.value[n]);l.form=!0,await _("note-store").post(i),l.form=!1}else k("Faltan Campos Por Diligenciar","","danger")};return(t,e)=>{const i=x;return y(),E("div",null,[o(L,{disabled:a(l).form,loading:a(l).form},{default:r(()=>[o($,{"primary-title":""},{default:r(()=>e[3]||(e[3]=[u("Cargar Notas")])),_:1}),o(R,null,{default:r(()=>[o(a(w),{ref_key:"formValidation",ref:c,"lazy-validation":""},{default:r(()=>[o(g,null,{default:r(()=>[o(p,{cols:"12",sm:"4"},{default:r(()=>[o(i,{clearable:"",modelValue:a(s).type_education_id,"onUpdate:modelValue":e[0]||(e[0]=n=>a(s).type_education_id=n),rules:["requiredValidator"in t?t.requiredValidator:a(v)],"error-messages":a(f).type_education_id,label:"Tipo",onChange:e[1]||(e[1]=n=>a(f).type_education_id=""),requiredField:!0,items:a(V)},null,8,["modelValue","rules","error-messages","items"])]),_:1}),o(p,{cols:"12",sm:"4"},{default:r(()=>[o(U,null,{default:r(()=>e[4]||(e[4]=[u("ArchivoÂ "),T("b",{class:"text-warning"},"*",-1)])),_:1}),(y(),D(j,{key:a(d).key,onChange:a(d).handleImageSelected,"onClick:clear":a(d).clearData,rules:["requiredValidator"in t?t.requiredValidator:a(v)]},null,8,["onChange","onClick:clear","rules"]))]),_:1})]),_:1}),o(g,null,{default:r(()=>[o(p,{cols:"12",class:"d-flex justify-center"},{default:r(()=>[o(I,{loading:a(l).form,color:"primary",onClick:e[2]||(e[2]=n=>b())},{default:r(()=>e[5]||(e[5]=[u(" Guardar ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["disabled","loading"])])}}});export{me as default};
