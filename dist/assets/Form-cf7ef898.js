import{V as F,r as f}from"./VForm-004422d8.js";import{_ as S}from"./AppTextField.vue_vue_type_script_setup_true_lang-b88e419f.js";import{_ as k}from"./AppSelect.vue_vue_type_script_setup_true_lang-8228e2b1.js";import{d as q,r as _,R as $,Q as w,L as B,o as T,c as j,b as o,f as t,k as r,ae as A,B as N,p as R,ay as U,az as z,aA as D}from"./index-4587cb4c.js";import{u as E}from"./useCrudSubjectStore-f2eab793.js";import{V as K}from"./VCardText-3432ca50.js";import{V as c}from"./VRow-8230813b.js";import{V as u}from"./VCol-11c0eee5.js";import{V as G}from"./VCard-7864a3bc.js";import"./helpers-53221d8d.js";import"./VField-ea4548a6.js";import"./VTextField-3e35d1c3.js";import"./VImg-679f2ee1.js";import"./VSelect-cc247f1e.js";import"./VList-a077783d.js";import"./ssrBoot-4eed4231.js";import"./VAvatar-e63fad11.js";import"./VDivider-d9ff95b8.js";import"./dialog-transition-b290005b.js";import"./VMenu-15dab7af.js";import"./VChip-71c3d81a.js";/* empty css              */const ue=q({__name:"Form",setup(H){const V=R(),{toast:g}=D(),p=_(),d=E();$();const{form:n,loading:y,typeEducations:v}=w(d),i=_({}),C=async()=>{var e,m;const a=await((e=p.value)==null?void 0:e.validate());if(a!=null&&a.valid){const l=await d.fetchSave();(l==null?void 0:l.code)===200&&(i.value={},await((m=p.value)==null?void 0:m.resetValidation()),U.push({name:"Subject-Index"})),(l==null?void 0:l.code)===422&&(i.value=l.errors??{})}else g("Faltan Campos Por Diligenciar","","danger")};return B(async()=>{d.clearForm(),await d.fetchDataForm(Number(V.params.id),V.params.action)}),(a,e)=>{const m=z,l=k,b=S;return T(),j("div",null,[o(G,null,{default:t(()=>[o(K,null,{default:t(()=>[o(c,null,{default:t(()=>[o(u,null,{default:t(()=>[o(m,{"sub-title":"Formulario Subject",action:String(a.$route.params.action),"btn-action":"list","validate-crud":!0,"btn-back":!0,onChangeScreenBack:a.$router.back},null,8,["action","onChangeScreenBack"])]),_:1})]),_:1}),o(r(F),{ref_key:"formValidation",ref:p,"lazy-validation":""},{default:t(()=>[o(c,null,{default:t(()=>[o(u,{cols:"12",sm:"3"},{default:t(()=>[o(l,{clearable:"",modelValue:r(n).type_education_id,"onUpdate:modelValue":e[0]||(e[0]=s=>r(n).type_education_id=s),rules:["requiredValidator"in a?a.requiredValidator:r(f)],"error-messages":r(i).type_education_id,label:"Tipo",onChange:e[1]||(e[1]=s=>r(i).type_education_id=""),requiredField:!0,items:r(v)},null,8,["modelValue","rules","error-messages","items"])]),_:1}),o(u,{cols:"12",sm:"3"},{default:t(()=>[o(b,{clearable:"",modelValue:r(n).name,"onUpdate:modelValue":e[2]||(e[2]=s=>r(n).name=s),rules:["requiredValidator"in a?a.requiredValidator:r(f)],"error-messages":r(i).name,label:"Nombre",onKeypress:e[3]||(e[3]=s=>r(i).name=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1}),o(u,{cols:"12",sm:"3"},{default:t(()=>[o(b,{clearable:"",modelValue:r(n).code,"onUpdate:modelValue":e[4]||(e[4]=s=>r(n).code=s),rules:["requiredValidator"in a?a.requiredValidator:r(f)],"error-messages":r(i).code,label:"Codigo",onKeypress:e[5]||(e[5]=s=>r(i).code=""),requiredField:!0},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1}),o(c,null,{default:t(()=>[o(u,{cols:"12",class:"d-flex justify-center"},{default:t(()=>[o(A,{loading:r(y).form,color:"primary",onClick:e[6]||(e[6]=s=>C())},{default:t(()=>e[7]||(e[7]=[N(" Guardar ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})])}}});export{ue as default};
