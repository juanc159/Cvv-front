import{d as be,r as v,aa as O,Y as T,c as b,o as m,y as W,b as e,f as t,a9 as f,D as n,e as s,E as d,F as q,q as Y,h as Z,a7 as g,B as ge,a8 as Ve,G as xe,ad as he,Z as ye,$ as Ce}from"./index-BaV16FCr.js";import{a as r,V as E}from"./VRow-BFfZTps2.js";import{V,c as ke,a as z,d as Ae,b as N}from"./VCard-Cu9KQF3n.js";import{V as A}from"./VAvatar-BBYtPJKV.js";import{V as w}from"./VChip-DTwUZwmi.js";import{V as we}from"./VMenu-Bue79pR2.js";import{V as je,a as K,b as Q}from"./VList-RAYwNb6B.js";import{V as X}from"./VDivider-kUj94-mG.js";import{V as I}from"./VCardText-CDLeL-c9.js";import{V as G}from"./VSpacer-Cwv-1Gxm.js";import{V as Se}from"./VTable-BKakwtEv.js";import{V as Te}from"./VForm-Cakuzm8b.js";import{V as P}from"./VTextField-CL-0Z5oA.js";import{V as F}from"./VSelect-Bjp9kztP.js";import{V as ee}from"./VTextarea-BSOKvg-I.js";import{V as te}from"./VDialog-CPKJ-TIk.js";import{_ as Ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css              */import"./VImg-Dx556MLp.js";import"./dialog-transition-DCflx0be.js";import"./ssrBoot-BMrzvYku.js";/* empty css                   */import"./VCounter-C2NgZD61.js";import"./VCheckboxBtn-Bs1gRmrB.js";import"./VSelectionControl-CEJbriLn.js";const p=j=>(ye("data-v-db2f532f"),j=j(),Ce(),j),ze={key:0},Ie=p(()=>s("h2",{class:"text-h4 font-weight-bold"},"Gestión de Actividades",-1)),Fe=p(()=>s("p",{class:"text-body-1 text-medium-emphasis"},"Administre tareas, exámenes y asignaciones.",-1)),Me={class:"text-h6 font-weight-bold"},Ne=p(()=>s("div",{class:"text-caption"},"Total Actividades",-1)),Ge={class:"text-h6 font-weight-bold"},Pe=p(()=>s("div",{class:"text-caption"},"Activas",-1)),Ue={class:"text-h6 font-weight-bold"},De=p(()=>s("div",{class:"text-caption"},"Cerradas",-1)),Le={class:"text-h6 font-weight-bold"},Be=p(()=>s("div",{class:"text-caption"},"Por Calificar",-1)),$e={class:"d-flex justify-space-between align-start mb-3"},Re={class:"d-flex flex-wrap align-center gap-2",style:{gap:"8px"}},Je={class:"text-body-2 text-truncate-2 text-medium-emphasis",style:{"min-height":"42px"}},He={class:"d-flex justify-space-between align-center mb-2"},Oe=p(()=>s("span",{class:"text-caption font-weight-bold"},"Entregas Recibidas",-1)),We={class:"text-caption"},qe={key:1},Ye={class:"d-flex align-center mb-6"},Ze={class:"text-h5 font-weight-bold"},Ke={class:"text-body-2 text-medium-emphasis"},Qe=p(()=>s("thead",null,[s("tr",null,[s("th",null,"Estudiante"),s("th",null,"Fecha Entrega"),s("th",null,"Archivo"),s("th",null,"Calificación"),s("th",null,"Acciones")])],-1)),Xe={key:0},et={colspan:"5",class:"text-center pa-10 text-disabled"},tt=p(()=>s("br",null,null,-1)),at={class:"d-flex align-center"},lt={class:"font-weight-bold"},st={key:1,class:"text-disabled text-caption"},it={class:"text-h6 d-flex align-center"},ot=be({__name:"ActivitiesTeacher",setup(j){const u=v([{id:1,title:"Resolución de Ecuaciones Cuadráticas",subject:"Matemáticas",grade:"4to Año",section:"A",deadline:"2025-10-15T23:59",status:"active",submissions_count:3,total_students:20,description:"Resolver los ejercicios de la página 45 del libro guía. Subir en PDF.",file_type:["PDF"]},{id:2,title:"Ensayo sobre la Guerra Federal",subject:"Historia",grade:"4to Año",section:"A",deadline:"2025-09-30T18:00",status:"closed",submissions_count:20,total_students:20,description:"Ensayo de mínimo 3 cuartillas. Cuidar ortografía.",file_type:["Word"]},{id:3,title:"Dibujo Técnico: Proyecciones",subject:"Matemáticas",grade:"5to Año",section:"B",deadline:"2025-11-01T12:00",status:"active",submissions_count:0,total_students:15,description:"Realizar lámina Nro 4 con proyecciones ortogonales.",file_type:["Imagen"]}]),ae=[{id:101,student:"Juan Pérez",date:"2025-10-14 10:00",file:"ejercicios_juan.pdf",status:"pending",score:null},{id:102,student:"Maria Garcia",date:"2025-10-14 11:30",file:"matematica_maria.pdf",status:"graded",score:18},{id:103,student:"Carlos Lopez",date:"2025-10-15 09:00",file:"tarea_carlos.pdf",status:"pending",score:null}],le=["Matemáticas","Historia","Física","Castellano","Inglés"],se=["1er Año","2do Año","3er Año","4to Año","5to Año"],ie=["A","B","C"],S=v("list"),_=v(null),h=v([]),x=v(!1),C=v(!1),y=v(!1),M=v(!1),l=O({id:null,title:"",subject_id:null,grade_id:null,section_id:null,description:"",deadline:"",file_type:[]}),c=O({submissionId:null,studentName:"",score:null,feedback:""}),oe=T(()=>u.value.length),de=T(()=>u.value.filter(i=>i.status==="active").length),ne=T(()=>u.value.filter(i=>i.status==="closed").length),re=T(()=>5),ce=()=>{y.value=!1,l.id=null,l.title="",l.subject_id=null,l.grade_id=null,l.section_id=null,l.description="",l.deadline="",l.file_type=["PDF"],x.value=!0},ue=i=>{y.value=!0,l.id=i.id,l.title=i.title,l.subject_id=i.subject,l.grade_id=i.grade,l.section_id=i.section,l.description=i.description,l.deadline=i.deadline,l.file_type=i.file_type||["PDF"],x.value=!0},U=()=>{!l.title||!l.deadline||(M.value=!0,setTimeout(()=>{if(y.value&&l.id){const i=u.value.findIndex(o=>o.id===l.id);i!==-1&&(u.value[i]={...u.value[i],title:l.title,subject:l.subject_id||"Materia",grade:l.grade_id||"Grado",section:l.section_id||"A",description:l.description,deadline:l.deadline,file_type:l.file_type})}else u.value.unshift({id:Math.random(),title:l.title,subject:l.subject_id||"Matemáticas",grade:l.grade_id||"4to Año",section:l.section_id||"A",deadline:l.deadline,status:"active",submissions_count:0,total_students:30,description:l.description,file_type:l.file_type});M.value=!1,x.value=!1},1e3))},me=i=>{confirm("¿Está seguro de eliminar esta actividad? Se borrarán las entregas asociadas.")&&(u.value=u.value.filter(o=>o.id!==i))},fe=i=>{_.value=i,h.value=i.submissions_count>0?JSON.parse(JSON.stringify(ae)):[],S.value="details"},pe=()=>{S.value="list",_.value=null,h.value=[]},_e=i=>{c.submissionId=i.id,c.studentName=i.student,c.score=i.score,c.feedback="",C.value=!0},ve=()=>{const i=h.value.find(o=>o.id===c.submissionId);i&&(i.score=c.score,i.status="graded"),C.value=!1},D=i=>i==="active"?"success":"error",L=i=>i==="active"?"Abierta":"Cerrada";return(i,o)=>{var B,$,R,J,H;return m(),b("div",null,[S.value==="list"?(m(),b("div",ze,[e(E,{class:"mb-4"},{default:t(()=>[e(r,{cols:"12",md:"8"},{default:t(()=>[Ie,Fe]),_:1}),e(r,{cols:"12",md:"4",class:"text-md-end"},{default:t(()=>[e(f,{color:"primary","prepend-icon":"tabler-plus",onClick:ce,size:"large"},{default:t(()=>[n(" Nueva Actividad ")]),_:1})]),_:1})]),_:1}),e(E,{class:"mb-6"},{default:t(()=>[e(r,{cols:"6",md:"3"},{default:t(()=>[e(V,{class:"d-flex align-center pa-3"},{default:t(()=>[e(A,{color:"primary",variant:"tonal",class:"me-3",icon:"tabler-folder"}),s("div",null,[s("div",Me,d(oe.value),1),Ne])]),_:1})]),_:1}),e(r,{cols:"6",md:"3"},{default:t(()=>[e(V,{class:"d-flex align-center pa-3"},{default:t(()=>[e(A,{color:"success",variant:"tonal",class:"me-3",icon:"tabler-circle-check"}),s("div",null,[s("div",Ge,d(de.value),1),Pe])]),_:1})]),_:1}),e(r,{cols:"6",md:"3"},{default:t(()=>[e(V,{class:"d-flex align-center pa-3"},{default:t(()=>[e(A,{color:"error",variant:"tonal",class:"me-3",icon:"tabler-lock"}),s("div",null,[s("div",Ue,d(ne.value),1),De])]),_:1})]),_:1}),e(r,{cols:"6",md:"3"},{default:t(()=>[e(V,{class:"d-flex align-center pa-3"},{default:t(()=>[e(A,{color:"warning",variant:"tonal",class:"me-3",icon:"tabler-pencil"}),s("div",null,[s("div",Le,d(re.value),1),Be])]),_:1})]),_:1})]),_:1}),e(E,null,{default:t(()=>[(m(!0),b(q,null,Y(u.value,a=>(m(),Z(r,{key:a.id,cols:"12",md:"6",lg:"4"},{default:t(()=>[e(V,{class:"h-100 border card-hover"},{default:t(()=>[e(ke,null,{default:t(()=>[s("div",$e,[s("div",Re,[e(w,{size:"small",color:D(a.status),variant:"flat",class:"font-weight-bold"},{default:t(()=>[n(d(L(a.status)),1)]),_:2},1032,["color"]),e(w,{size:"small",color:"primary",variant:"outlined"},{default:t(()=>[n(d(a.subject),1)]),_:2},1024)]),e(we,null,{activator:t(({props:k})=>[e(f,ge({icon:"tabler-dots",variant:"text",size:"small",ref_for:!0},k,{class:"mt-n2 me-n2"}),null,16)]),default:t(()=>[e(je,null,{default:t(()=>[e(K,{onClick:k=>ue(a)},{prepend:t(()=>[e(g,{icon:"tabler-edit",size:"20"})]),default:t(()=>[e(Q,null,{default:t(()=>[n("Editar Actividad")]),_:1})]),_:2},1032,["onClick"]),e(K,{onClick:k=>me(a.id),class:"text-error"},{prepend:t(()=>[e(g,{icon:"tabler-trash",size:"20"})]),default:t(()=>[e(Q,null,{default:t(()=>[n("Eliminar")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),e(z,{class:"text-h6 mb-1 text-wrap pe-2",style:{"line-height":"1.4"}},{default:t(()=>[n(d(a.title),1)]),_:2},1024),e(Ae,{class:"mb-3 d-flex align-center"},{default:t(()=>[e(g,{icon:"tabler-users-group",size:"16",class:"me-1"}),n(" "+d(a.grade)+' sección "'+d(a.section)+'" ',1)]),_:2},1024),s("p",Je,d(a.description),1)]),_:2},1024),e(X),e(I,{class:"py-3 bg-var-theme-background"},{default:t(()=>[s("div",He,[Oe,s("span",We,d(a.submissions_count)+" / "+d(a.total_students),1)]),e(Ve,{"model-value":a.submissions_count/a.total_students*100,color:"primary",height:"8",rounded:""},null,8,["model-value"]),s("div",{class:xe(["d-flex align-center mt-3 text-caption",a.status==="active"?"text-error":"text-disabled"])},[e(g,{icon:"tabler-calendar-time",size:"16",class:"me-1"}),s("span",null,"Cierra: "+d(a.deadline.replace("T"," ")),1)],2)]),_:2},1024),e(N,{class:"pa-3"},{default:t(()=>[e(f,{variant:"tonal",block:"",color:"primary",onClick:k=>fe(a)},{default:t(()=>[e(g,{icon:"tabler-list-search",start:""}),n(" Ver Entregas ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):S.value==="details"?(m(),b("div",qe,[s("div",Ye,[e(f,{icon:"tabler-arrow-left",variant:"text",class:"me-3",onClick:pe}),s("div",null,[s("h2",Ze,d((B=_.value)==null?void 0:B.title),1),s("div",Ke,d(($=_.value)==null?void 0:$.grade)+' "'+d((R=_.value)==null?void 0:R.section)+'" • '+d((J=_.value)==null?void 0:J.subject),1)]),e(G),e(w,{color:D((H=_.value)==null?void 0:H.status)},{default:t(()=>{var a;return[n(d(L((a=_.value)==null?void 0:a.status)),1)]}),_:1},8,["color"])]),e(V,null,{default:t(()=>[e(z,{class:"pa-4 border-bottom"},{default:t(()=>[n(" Lista de Estudiantes ("+d(h.value.length)+" entregas) ",1)]),_:1}),e(I,{class:"pa-0"},{default:t(()=>[e(Se,{class:"text-no-wrap"},{default:t(()=>[Qe,s("tbody",null,[h.value.length===0?(m(),b("tr",Xe,[s("td",et,[e(g,{icon:"tabler-folder-off",size:"30",class:"mb-2"}),tt,n(" Aún no hay entregas para esta actividad. ")])])):W("",!0),(m(!0),b(q,null,Y(h.value,a=>(m(),b("tr",{key:a.id},[s("td",null,[s("div",at,[e(A,{color:"primary",variant:"tonal",size:"30",class:"me-2"},{default:t(()=>[n(d(a.student.charAt(0)),1)]),_:2},1024),s("div",lt,d(a.student),1)])]),s("td",null,d(a.date),1),s("td",null,[e(w,{size:"small","prepend-icon":"tabler-file",color:"info",variant:"flat"},{default:t(()=>[n(d(a.file),1)]),_:2},1024)]),s("td",null,[a.score?(m(),Z(w,{key:0,color:"success",size:"small",variant:"tonal"},{default:t(()=>[n(d(a.score)+" pts ",1)]),_:2},1024)):(m(),b("span",st,"--"))]),s("td",null,[e(f,{size:"small",variant:"tonal",color:a.score?"warning":"primary",onClick:k=>_e(a)},{default:t(()=>[e(g,{icon:a.score?"tabler-pencil":"tabler-check",start:""},null,8,["icon"]),n(" "+d(a.score?"Editar":"Calificar"),1)]),_:2},1032,["color","onClick"])])]))),128))])]),_:1})]),_:1})]),_:1})])):W("",!0),e(te,{modelValue:x.value,"onUpdate:modelValue":o[9]||(o[9]=a=>x.value=a),"max-width":"700px",persistent:""},{default:t(()=>[e(V,null,{default:t(()=>[e(z,{class:"pa-4 bg-primary text-white d-flex justify-space-between align-center"},{default:t(()=>[s("span",it,[e(g,{icon:y.value?"tabler-edit":"tabler-plus",class:"me-2"},null,8,["icon"]),n(" "+d(y.value?"Editar Actividad":"Nueva Actividad"),1)]),e(f,{icon:"tabler-x",variant:"text",color:"white",onClick:o[0]||(o[0]=a=>x.value=!1)})]),_:1}),e(I,{class:"pa-6"},{default:t(()=>[e(Te,{onSubmit:he(U,["prevent"])},{default:t(()=>[e(E,null,{default:t(()=>[e(r,{cols:"12"},{default:t(()=>[e(P,{label:"Título de la Actividad",modelValue:l.title,"onUpdate:modelValue":o[1]||(o[1]=a=>l.title=a),placeholder:"Ej: Análisis Literario",variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6"},{default:t(()=>[e(F,{label:"Materia",items:le,modelValue:l.subject_id,"onUpdate:modelValue":o[2]||(o[2]=a=>l.subject_id=a),variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),e(r,{cols:"6",sm:"3"},{default:t(()=>[e(F,{label:"Año",items:se,modelValue:l.grade_id,"onUpdate:modelValue":o[3]||(o[3]=a=>l.grade_id=a),variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),e(r,{cols:"6",sm:"3"},{default:t(()=>[e(F,{label:"Sección",items:ie,modelValue:l.section_id,"onUpdate:modelValue":o[4]||(o[4]=a=>l.section_id=a),variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12"},{default:t(()=>[e(ee,{label:"Instrucciones para el estudiante",modelValue:l.description,"onUpdate:modelValue":o[5]||(o[5]=a=>l.description=a),rows:"3",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6"},{default:t(()=>[e(P,{type:"datetime-local",label:"Fecha Límite",modelValue:l.deadline,"onUpdate:modelValue":o[6]||(o[6]=a=>l.deadline=a),variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1}),e(r,{cols:"12",sm:"6"},{default:t(()=>[e(F,{label:"Formatos permitidos",multiple:"",chips:"",items:["PDF","Word","Imagen","Excel"],modelValue:l.file_type,"onUpdate:modelValue":o[7]||(o[7]=a=>l.file_type=a),variant:"outlined",density:"comfortable"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(X),e(N,{class:"pa-4"},{default:t(()=>[e(G),e(f,{variant:"text",color:"secondary",onClick:o[8]||(o[8]=a=>x.value=!1)},{default:t(()=>[n(" Cancelar ")]),_:1}),e(f,{color:"primary",variant:"elevated",onClick:U,loading:M.value},{default:t(()=>[n(d(y.value?"Guardar Cambios":"Publicar Actividad"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(te,{modelValue:C.value,"onUpdate:modelValue":o[13]||(o[13]=a=>C.value=a),"max-width":"400px"},{default:t(()=>[e(V,null,{default:t(()=>[e(z,{class:"pa-4"},{default:t(()=>[n("Calificar a "+d(c.studentName),1)]),_:1}),e(I,{class:"pa-4"},{default:t(()=>[e(P,{label:"Nota (1-20)",modelValue:c.score,"onUpdate:modelValue":o[10]||(o[10]=a=>c.score=a),type:"number",variant:"outlined",autofocus:""},null,8,["modelValue"]),e(ee,{label:"Feedback / Comentario",modelValue:c.feedback,"onUpdate:modelValue":o[11]||(o[11]=a=>c.feedback=a),variant:"outlined",rows:"2",class:"mt-2"},null,8,["modelValue"])]),_:1}),e(N,{class:"pa-4"},{default:t(()=>[e(G),e(f,{variant:"text",onClick:o[12]||(o[12]=a=>C.value=!1)},{default:t(()=>[n("Cancelar")]),_:1}),e(f,{color:"success",variant:"elevated",onClick:ve},{default:t(()=>[n("Asignar Nota")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),It=Ee(ot,[["__scopeId","data-v-db2f532f"]]);export{It as default};
