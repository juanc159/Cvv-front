import{a as V}from"./formatters-DULOiX1-.js";import{_ as I}from"./ModalChangePassword.vue_vue_type_script_setup_true_lang-BnFTd7f0.js";import{ag as P,ah as w,ai as A,aj as S,ak as D,b as t,d as M,U as B,R as z,Z as N,r as R,o as C,g as y,f as a,C as r,D as d,k as o,a8 as _,G as U,al as b}from"./index-DJ977WYM.js";import{V as h}from"./VAvatar-BZeagMvz.js";import{V as $}from"./VMenu-Db9djmTG.js";import{V as j,a as f,b as p,d as E}from"./VList-D6H1O7BI.js";import{V as k}from"./VBadge-CSvuXTSJ.js";import{V as F}from"./VDivider-DB9vLbB0.js";const G=P({start:Boolean,end:Boolean,...w(),...A()},"VListItemAction"),Z=S()({name:"VListItemAction",props:G(),setup(l,i){let{slots:c}=i;return D(()=>t(l.tag,{class:["v-list-item-action",{"v-list-item-action--start":l.start,"v-list-item-action--end":l.end},l.class],style:l.style},c)),{}}}),Y=M({__name:"UserProfile",setup(l){const i=B(),{company:c,user:s}=z(i),L=()=>{b.push({name:"Login"}),i.logout()},g=N(()=>{var n,m,u,e;return s.value?String((m=(n=s.value)==null?void 0:n.name)==null?void 0:m.split(" ")[0])+" "+String((e=(u=s.value)==null?void 0:u.surname)==null?void 0:e.split(" ")[0])||"Administrador":""}),T=()=>{c.value={},i.getMenuData,b.push({name:"Company-List"})},v=R(),x=()=>{v.value.openDialog(s.value.id)};return(n,m)=>{const u=I;return C(),y(k,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:a(()=>[t(h,{class:"cursor-pointer",color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:o(V))(o(g)))+" ",1),t($,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:a(()=>[t(j,null,{default:a(()=>[t(f,null,{prepend:a(()=>[t(Z,{start:""},{default:a(()=>[t(k,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:a(()=>[t(h,{color:"primary",variant:"tonal"},{default:a(()=>[r(d(("avatarText"in n?n.avatarText:o(V))(o(g))),1)]),_:1})]),_:1})]),_:1})]),default:a(()=>[t(p,{class:"font-weight-semibold"},{default:a(()=>{var e;return[r(d((e=o(s))==null?void 0:e.full_name),1)]}),_:1}),t(E,null,{default:a(()=>{var e;return[r(d((e=o(s))==null?void 0:e.rol_name),1)]}),_:1})]),_:1}),o(c).id&&!o(s).company_id?(C(),y(f,{key:0,onClick:T},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-building",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Empresa")]),_:1})]),_:1})):U("",!0),t(f,{onClick:x},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-lock",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cambiar Constraseña")]),_:1})]),_:1}),t(F,{class:"my-2"}),t(f,{onClick:m[0]||(m[0]=e=>L())},{prepend:a(()=>[t(_,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:a(()=>[t(p,null,{default:a(()=>[r("Cerrar Sesión")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(u,{ref_key:"refModalChangePassword",ref:v},null,512)]),_:1})}}});export{Y as _};
