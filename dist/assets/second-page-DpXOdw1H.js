import{r as c,N as l,c as i,e as n,E as a,o as u}from"./index-lrlC7dU6.js";const d=n("h1",null,"Testing Laravel Reverb with Vue 3",-1),b={__name:"second-page",setup(g){const t=c("Waiting for message..."),o=c("Connecting...");l(()=>{console.log("WebSocket Config:",{key:"otm5syqaviw1uw9iqpen",host:"colegiovirgendelvalle.com.co",port:"443",scheme:"https"}),window.Echo.connector.pusher.bind("pusher:connection_established",()=>{console.log("WebSocket connected!"),o.value="Connected"}),window.Echo.connector.pusher.bind("pusher:error",e=>{console.log("WebSocket error:",e),o.value="Error: "+e.message}),window.Echo.channel("test-channel").subscribed(()=>{console.log("Subscribed to test-channel"),o.value="Connected & Subscribed"}).listen("TestEvent",e=>{console.log("Evento recibido:",e),t.value=e.message})});const r=async()=>{try{const s=await(await fetch("https://back.colegiovirgendelvalle.com.co/api/test-broadcast")).json();console.log("Test broadcast result:",s)}catch(e){console.error("Error testing broadcast:",e)}};return(e,s)=>(u(),i("div",null,[d,n("p",null,"Connection Status: "+a(o.value),1),n("p",null,"Message from Reverb: "+a(t.value),1),n("button",{onClick:r},"Test Connection")]))}};export{b as default};
