import{aA as c,ab as i}from"./index-c8da8270.js";const d=c("useCrudTeacherStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,type_education_id:null,job_position_id:null,complementaries:[],name:null,last_name:null,email:null,phone:null,photo:null},teacherData:{},teachers:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,jobPositions:[],typeEducations:[],subjects:[],sections:[],grades:[]}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,type_education_id:null,job_position_id:null,complementaries:[],name:null,last_name:null,email:null,phone:null,photo:null}},async fetchAll(a){var o;this.loading.table=!0;const{data:e,response:s,error:t,isFetching:l}=await i("/teacher-list").post(a);this.loading.table=l.value,(o=s.value)!=null&&o.ok&&e.value&&(this.teachers=e.value.teachers,this.totalData=e.value.totalData,this.totalPage=e.value.totalPage,this.currentPage=e.value.currentPage,this.lastPage=e.value.lastPage)},async fetchDataForm(a,e="create"){var r,u;this.loading.form=!0;const s=a?`/teacher-dataForm/${e}/${a}`:`/teacher-dataForm/${e}`,{data:t,response:l,error:o,isFetching:n}=await i(s).get();this.loading.form=!1,(r=l.value)!=null&&r.ok&&t.value&&(this.jobPositions=t.value.jobPositions,this.typeEducations=t.value.typeEducations,this.subjects=t.value.subjects,this.sections=t.value.sections,this.grades=t.value.grades),(u=l.value)!=null&&u.ok&&t.value.form&&(this.form=t.value.form)},async fetchSave(){var o;const a=new FormData;for(const n in this.form)a.append(n,this.form[n]);a.delete("complementaries"),a.append("complementaries",JSON.stringify(this.form.complementaries));const{data:e,response:s,error:t,isFetching:l}=await i("/teacher-create").post(a);return(o=s.value)!=null&&o.ok&&e.value&&(this.form=e.value.data),e.value},async fetchDelete(a){this.loading.table=!0;const{isFetching:e}=await i("/teacher-delete/"+a).delete();this.loading.table=e.value},async changeState(a){var l;this.loading.table=!0;const{data:e,response:s,isFetching:t}=await i("/teacher-changeState").post(a);return this.loading.table=t.value,(l=s.value)!=null&&l.ok&&e.value&&(this.form=e.value.data),e.value}}});export{d as u};
