import{a as h}from"./formatters-1588bd0d.js";import{d as I,R as B,Q as N,q as S,ad as z,o as s,g as i,f as t,b as e,k as r,c as D,C as c,B as l,a8 as k,E}from"./index-5f64080f.js";import{V as m}from"./VAvatar-ffe6488a.js";import{V as b}from"./VImg-5286d57c.js";import{V as w}from"./VMenu-9fac0700.js";import{V as A,a as f,b as d}from"./VList-6cc34887.js";import{a as R,V as T}from"./VBadge-b6903073.js";import{V as M}from"./VDivider-ff0605eb.js";const q={key:1},K=I({__name:"UserProfile",setup(P){const o=B(),{company:p,user:_}=N(o),x=S(),L=()=>{let a="Login";o.user.type_user=="admin"&&(a="Login"),o.user.type_user=="student"&&(a="Login-Estudent"),o.user.type_user=="teacher"&&(a="Login-Teacher"),o.logout(),x.push({name:a})},C=()=>{p.value={},o.getMenuData},V=z(()=>{var n;const a=((n=o.user)==null?void 0:n.full_name)||"";return a||"S/N"});return(a,n)=>(s(),i(T,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",bordered:"",color:"success"},{default:t(()=>[e(m,{class:"cursor-pointer",color:"primary",variant:"tonal",size:"50"},{default:t(()=>{var g,y;return[(g=r(o).user)!=null&&g.photo?(s(),i(b,{key:0,src:(y=r(o).user)==null?void 0:y.photo},null,8,["src"])):(s(),D("div",q,c(("avatarText"in a?a.avatarText:r(h))(r(V))),1)),e(w,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[e(A,null,{default:t(()=>[e(f,null,{prepend:t(()=>[e(R,{start:""},{default:t(()=>[e(T,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>{var u;return[(u=r(o).user)!=null&&u.photo?(s(),i(m,{key:0,color:"primary",variant:"tonal"},{default:t(()=>{var v;return[e(b,{src:(v=r(o).user)==null?void 0:v.photo},null,8,["src"])]}),_:1})):(s(),i(m,{key:1,color:"primary",variant:"tonal",size:"50"},{default:t(()=>[l(c(("avatarText"in a?a.avatarText:r(h))(r(V))),1)]),_:1}))]}),_:1})]),_:1})]),default:t(()=>[e(d,{class:"font-weight-semibold"},{default:t(()=>[l(c(r(_).full_name),1)]),_:1})]),_:1}),r(p).id&&!r(_).company_id?(s(),i(f,{key:0,to:{name:"Company-Index"},onClick:C},{prepend:t(()=>[e(k,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(d,null,{default:t(()=>[l("Cambiar Empresa")]),_:1})]),_:1})):E("",!0),e(M,{class:"my-2"}),e(f,{onClick:n[0]||(n[0]=u=>L())},{prepend:t(()=>[e(k,{class:"me-2",icon:"tabler-logout",size:"22"})]),default:t(()=>[e(d,null,{default:t(()=>[l("Terminar sesiÃ³n")]),_:1})]),_:1})]),_:1})]),_:1})]}),_:1})]),_:1}))}});export{K as _};
