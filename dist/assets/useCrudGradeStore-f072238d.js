import{aD as u,af as r}from"./index-03358c0e.js";const c=u("useCrudGradeStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,type_education_id:null,name:null,subjects:[]},gradeData:{},grades:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,typeEducations:[]}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,type_education_id:null,name:null,subjects:[]}},async fetchAll(e){var o;this.loading.table=!0;const{data:a,response:s,error:l,isFetching:t}=await r("/grade-list").post(e);this.loading.table=t.value,(o=s.value)!=null&&o.ok&&a.value&&(this.grades=a.value.grades,this.totalData=a.value.totalData,this.totalPage=a.value.totalPage,this.currentPage=a.value.currentPage,this.lastPage=a.value.lastPage)},async fetchDataForm(e,a="create"){var i,n;this.loading.form=!0;const s=e?`/grade-dataForm/${a}/${e}`:`/grade-dataForm/${a}`,{data:l,response:t,error:o,isFetching:d}=await r(s).get();this.loading.form=!1,(i=t.value)!=null&&i.ok&&l.value&&(this.typeEducations=l.value.typeEducations),(n=t.value)!=null&&n.ok&&l.value.form&&(this.form=l.value.form)},async fetchSave(){var t;this.loading.form=!0;const{data:e,response:a,error:s,isFetching:l}=await r("/grade-create").post(this.form);return this.loading.form=!1,(t=a.value)!=null&&t.ok&&e.value&&(this.form=e.value.data),e.value},async fetchDelete(e){this.loading.table=!0;const{isFetching:a}=await r("/grade-delete/"+e).delete();this.loading.table=a.value},async changeState(e){var t;this.loading.table=!0;const{data:a,response:s,isFetching:l}=await r("/grade-changeState").post(e);return this.loading.table=l.value,(t=s.value)!=null&&t.ok&&a.value&&(this.form=a.value.data),a.value}}});export{c as u};
