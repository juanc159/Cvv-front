import{V as F,r as v}from"./VForm-c2f52528.js";import{_ as w}from"./AppSelect.vue_vue_type_script_setup_true_lang-e500bca6.js";import{d as x,R as B,aF as q,r as m,L as A,af as _,o as y,c as T,b as o,f as r,B as u,k as a,e as D,g as E,ae as I,aA as N}from"./index-d0670919.js";import{u as S}from"./useImageUpload-057a928b.js";import{b as $,V as L}from"./VCard-e76a16db.js";import{V as R}from"./VCardText-e103ba3a.js";import{V as g}from"./VRow-0989fd53.js";import{V as p}from"./VCol-f9ca3977.js";import{V as U}from"./VField-15fe7e1a.js";import{V as j}from"./VFileInput-20589ea7.js";import"./helpers-53221d8d.js";import"./VSelect-26bb3631.js";import"./VTextField-c9f22d4b.js";import"./VImg-5105b70e.js";import"./VList-77887f57.js";import"./ssrBoot-d5aa7b69.js";import"./VAvatar-c50d467b.js";import"./VDivider-36ee54ff.js";import"./dialog-transition-267dc2dc.js";import"./VMenu-eda721cc.js";import"./VChip-94a2755b.js";import"./sweetalert2.esm.all-562d67d8.js";/* empty css              */const me=x({__name:"Index",setup(z){const C=B(),{toast:k}=N(),l=q({form:!1}),s=m({company_id:null,type_education_id:null,archive:null}),f=m({}),c=m(),V=m([]),d=m(S());d.value.allowedExtensions=["xls","xlsx"],A(async()=>{var i;l.form=!0;const{data:t,response:e}=await _("note-dataForm").get();l.form=!1,(i=e.value)!=null&&i.ok&&t.value&&(V.value=t.value.typeEducations)});const b=async()=>{var e;s.value.archive=d.value.imageFile,s.value.company_id=C.company.id;const t=await((e=c.value)==null?void 0:e.validate());if(t!=null&&t.valid){const i=new FormData;for(const n in s.value)i.append(n,s.value[n]);l.form=!0,await _("note-store").post(i),l.form=!1}else k("Faltan Campos Por Diligenciar","","danger")};return(t,e)=>{const i=w;return y(),T("div",null,[o(L,{disabled:a(l).form,loading:a(l).form},{default:r(()=>[o($,{"primary-title":""},{default:r(()=>e[3]||(e[3]=[u("Cargar Notas")])),_:1}),o(R,null,{default:r(()=>[o(a(F),{ref_key:"formValidation",ref:c,"lazy-validation":""},{default:r(()=>[o(g,null,{default:r(()=>[o(p,{cols:"12",sm:"4"},{default:r(()=>[o(i,{clearable:"",modelValue:a(s).type_education_id,"onUpdate:modelValue":e[0]||(e[0]=n=>a(s).type_education_id=n),rules:["requiredValidator"in t?t.requiredValidator:a(v)],"error-messages":a(f).type_education_id,label:"Tipo",onChange:e[1]||(e[1]=n=>a(f).type_education_id=""),requiredField:!0,items:a(V)},null,8,["modelValue","rules","error-messages","items"])]),_:1}),o(p,{cols:"12",sm:"4"},{default:r(()=>[o(U,null,{default:r(()=>e[4]||(e[4]=[u("ArchivoÂ "),D("b",{class:"text-warning"},"*",-1)])),_:1}),(y(),E(j,{key:a(d).key,onChange:a(d).handleImageSelected,"onClick:clear":a(d).clearData,rules:["requiredValidator"in t?t.requiredValidator:a(v)]},null,8,["onChange","onClick:clear","rules"]))]),_:1})]),_:1}),o(g,null,{default:r(()=>[o(p,{cols:"12",class:"d-flex justify-center"},{default:r(()=>[o(I,{loading:a(l).form,color:"primary",onClick:e[2]||(e[2]=n=>b())},{default:r(()=>e[5]||(e[5]=[u(" Guardar ")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["disabled","loading"])])}}});export{me as default};
