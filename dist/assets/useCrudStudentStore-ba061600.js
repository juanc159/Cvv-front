import{aD as d,af as o}from"./index-551c6ec5.js";const f=d("useCrudStudentStore",{state:()=>({loading:{form:!1,table:!1},form:{id:null,company_id:null,type_education_id:null,grade_id:null,section_id:null,identity_document:null,full_name:null,pdf:null,photo:null},studentData:{},students:[],totalData:0,totalPage:0,currentPage:1,lastPage:0,jobPositions:[],typeEducations:[],sections:[]}),getters:{},actions:{clearForm(){this.form={id:null,company_id:null,type_education_id:null,grade_id:null,section_id:null,identity_document:null,full_name:null,pdf:null,photo:null}},async fetchAll(e){var n;this.loading.table=!0;const{data:t,response:s,error:a,isFetching:l}=await o("/student-list").post(e);this.loading.table=!1,(n=s.value)!=null&&n.ok&&t.value&&(this.students=t.value.students,this.totalData=t.value.totalData,this.totalPage=t.value.totalPage,this.currentPage=t.value.currentPage,this.lastPage=t.value.lastPage)},async fetchDataForm(e,t="create"){var u,r;this.loading.form=!0;const s=e?`/student-dataForm/${t}/${e}`:`/student-dataForm/${t}`,{data:a,response:l,error:n,isFetching:i}=await o(s).get();this.loading.form=!1,(u=l.value)!=null&&u.ok&&a.value&&(this.jobPositions=a.value.jobPositions,this.typeEducations=a.value.typeEducations,this.sections=a.value.sections),(r=l.value)!=null&&r.ok&&a.value.form&&(this.form=a.value.form)},async fetchSave(){var n;const e=new FormData;for(const i in this.form)e.append(i,this.form[i]);const{data:t,response:s,error:a,isFetching:l}=await o("/student-create").post(e);return(n=s.value)!=null&&n.ok&&t.value,t.value},async fetchDelete(e){this.loading.table=!0,await o("/student-delete/"+e).delete(),this.loading.table=!1},async changeState(e){var l;this.loading.table=!0;const{data:t,response:s,isFetching:a}=await o("/student-changeState").post(e);return this.loading.table=!1,(l=s.value)!=null&&l.ok&&t.value&&(this.form=t.value.data),t.value},async fetchResetPassword(e){this.loading.table=!0;const{data:t,response:s}=await o("/student-resetPassword/"+e).get();return this.loading.table=!1,t.value}}});export{f as u};
